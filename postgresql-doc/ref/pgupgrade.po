# Alexander Lakhin <a.lakhin@postgrespro.ru>, 2012, 2013, 2015, 2016, 2017.
# Pavel Luzanov <p.luzanov@postgrespro.ru>, 2015, 2016.
msgid ""
msgstr ""
"Project-Id-Version: \n"
"POT-Creation-Date: 2017-10-02 10:32+0300\n"
"PO-Revision-Date: 2017-10-03 12:17+0300\n"
"Last-Translator: Alexander Lakhin <a.lakhin@postgrespro.ru>\n"
"Language-Team: Russian <pgsql-docs@lists.postgrespro.ru>\n"
"Language: ru\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n"
"%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
"X-Generator: Lokalize 2.0\n"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:5(indexterm)
msgid "<primary>pg_upgrade</primary>"
msgstr "<primary>pg_upgrade</primary>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:10(application)
msgctxt "application"
msgid "pg_upgrade"
msgstr "pg_upgrade"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:11(manvolnum)
msgid "1"
msgstr "1"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:12(refmiscinfo)
msgid "Application"
msgstr "Приложение"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:16(refname)
msgctxt "refname"
msgid "pg_upgrade"
msgstr "pg_upgrade"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:17(productname)
msgid "PostgreSQL"
msgstr "PostgreSQL"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:17(refpurpose)
msgid "upgrade a <placeholder-1/> server instance"
msgstr "обновить экземпляр сервера <placeholder-1/>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:22(command)
msgctxt "command"
msgid "pg_upgrade"
msgstr "pg_upgrade"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:23(option) ref/pgupgrade.xml:83(option)
msgid "-b"
msgstr "-b"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:24(replaceable)
msgid "oldbindir"
msgstr "старый_каталог_bin"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:25(option) ref/pgupgrade.xml:90(option)
msgid "-B"
msgstr "-B"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:26(replaceable)
msgid "newbindir"
msgstr "новый_каталог_bin"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:27(option) ref/pgupgrade.xml:103(option)
msgid "-d"
msgstr "-d"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:28(replaceable)
msgid "olddatadir"
msgstr "старый_каталог_данных"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:29(option) ref/pgupgrade.xml:110(option)
msgid "-D"
msgstr "-D"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:30(replaceable)
msgid "newdatadir"
msgstr "новый_каталог_данных"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:31(replaceable)
msgid "option"
msgstr "параметр"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:36(title)
msgid "Description"
msgstr "Описание"

#. +> REL_10
#: ref/pgupgrade.xml:38(para)
msgid ""
"<application>pg_upgrade</application> (formerly called "
"<application>pg_migrator</application>) allows data stored in "
"<productname>PostgreSQL</productname> data files to be upgraded to a later "
"<productname>PostgreSQL</productname> major version without the data dump/"
"reload typically required for major version upgrades, e.g. from 9.6.3 to the "
"current major release of <productname>PostgreSQL</productname>. It is not "
"required for minor version upgrades, e.g. from 9.6.2 to 9.6.3."
msgstr ""
"Программа <application>pg_upgrade</application> (ранее называвшаяся "
"<application>pg_migrator</application>) позволяет обновить данные в каталоге "
"базы данных <productname>PostgreSQL</productname> до последней основной "
"версии <productname>PostgreSQL</productname> без операции выгрузки/"
"перезагрузки данных, обычно необходимой при обновлениях основной версии, "
"например, при переходе от 9.6.3 к текущей основной версии "
"<productname>PostgreSQL</productname>. Эти действия не требуются при "
"установке корректирующей версии, например, при переходе от 9.6.2 к 9.6.3."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:38(para)
msgid ""
"<application>pg_upgrade</application> (formerly called "
"<application>pg_migrator</application>) allows data stored in "
"<productname>PostgreSQL</productname> data files to be upgraded to a later "
"<productname>PostgreSQL</productname> major version without the data dump/"
"reload typically required for major version upgrades, e.g. from 8.4.7 to the "
"current major release of <productname>PostgreSQL</productname>. It is not "
"required for minor version upgrades, e.g. from 9.0.1 to 9.0.4."
msgstr ""
"Программа <application>pg_upgrade</application> (ранее называвшаяся "
"<application>pg_migrator</application>) позволяет обновить данные в каталоге "
"базы данных <productname>PostgreSQL</productname> до последней основной "
"версии <productname>PostgreSQL</productname> без операции выгрузки/"
"перезагрузки данных, обычно необходимой при обновлениях основной версии, "
"например, при переходе от 8.4.7 к текущей основной версии "
"<productname>PostgreSQL</productname>. Эти действия не требуются при "
"установке корректирующей версии, например, при переходе от 9.0.1 к 9.0.4."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:47(para)
msgid ""
"Major PostgreSQL releases regularly add new features that often change the "
"layout of the system tables, but the internal data storage format rarely "
"changes. <application>pg_upgrade</application> uses this fact to perform "
"rapid upgrades by creating new system tables and simply reusing the old user "
"data files. If a future major release ever changes the data storage format "
"in a way that makes the old data format unreadable, <application>pg_upgrade</"
"application> will not be usable for such upgrades. (The community will "
"attempt to avoid such situations.)"
msgstr ""
"С выходом новых основных версий в PostgreSQL регулярно добавляются новые "
"возможности, которые часто меняют структуру системных таблицы, но внутренний "
"формат хранения меняется редко. Учитывая этот факт, <application>pg_upgrade</"
"application> позволяет выполнить быстрое обновление, создавая системные "
"таблицы заново, но сохраняя старые файлы данных. Если при обновлении "
"основной версии формат хранения данных изменится так, что данные в старом "
"формате окажутся нечитаемыми, <application>pg_upgrade</application> не "
"сможет произвести такое обновление. (Сообщество разработчиков постарается не "
"допустить подобных ситуаций.)"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:59(para)
msgid ""
"<application>pg_upgrade</application> does its best to make sure the old and "
"new clusters are binary-compatible, e.g. by checking for compatible compile-"
"time settings, including 32/64-bit binaries. It is important that any "
"external modules are also binary compatible, though this cannot be checked "
"by <application>pg_upgrade</application>."
msgstr ""
"Программа <application>pg_upgrade</application> делает всё возможное, чтобы "
"убедиться в том, что старый и новый кластеры двоично-совместимы, в частности "
"проверяя параметры времени компиляции и разрядность (32/64 бита) исполняемых "
"файлов. Важно, чтобы и все внешние модули тоже были двоично-совместимыми, "
"хотя это <application>pg_upgrade</application> проверить не может."

#. +> REL_10
#: ref/pgupgrade.xml:68(para)
msgid ""
"pg_upgrade supports upgrades from 8.4.X and later to the current major "
"release of <productname>PostgreSQL</productname>, including snapshot and "
"beta releases."
msgstr ""
"pg_upgrade поддерживает обновление с версии 8.4.X и новее до текущей "
"основной версии <productname>PostgreSQL</productname>, включая бета-выпуски "
"и сборки снимков кода."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:68(para)
msgid ""
"pg_upgrade supports upgrades from 8.4.X and later to the current major "
"release of <productname>PostgreSQL</productname>, including snapshot and "
"alpha releases."
msgstr ""
"pg_upgrade поддерживает обновление с версии 8.4.X и новее до текущей "
"основной версии <productname>PostgreSQL</productname>, включая альфа-выпуски "
"и сборки снимков кода."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:75(title)
msgid "Options"
msgstr "Параметры"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:83(replaceable) ref/pgupgrade.xml:84(replaceable)
#: ref/pgupgrade.xml:90(replaceable) ref/pgupgrade.xml:91(replaceable)
msgid "bindir"
msgstr "каталог_bin"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:84(option)
msgid "--old-bindir="
msgstr "--old-bindir="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:85(para)
msgid ""
"the old PostgreSQL executable directory; environment variable "
"<envar>PGBINOLD</envar>"
msgstr ""
"каталог с исполняемыми файлами старой версии PostgreSQL; переменная "
"окружения <envar>PGBINOLD</envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:91(option)
msgid "--new-bindir="
msgstr "--new-bindir="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:92(para)
msgid ""
"the new PostgreSQL executable directory; environment variable "
"<envar>PGBINNEW</envar>"
msgstr ""
"каталог с исполняемыми файлами новой версии PostgreSQL; переменная окружения "
"<envar>PGBINNEW</envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:97(option)
msgid "-c"
msgstr "-c"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:98(option)
msgid "--check"
msgstr "--check"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:99(para)
msgid "check clusters only, don't change any data"
msgstr "только проверить кластеры, не изменять никакие данные"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:103(replaceable) ref/pgupgrade.xml:104(replaceable)
#: ref/pgupgrade.xml:110(replaceable) ref/pgupgrade.xml:111(replaceable)
msgid "datadir"
msgstr "datadir"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:104(option)
msgid "--old-datadir="
msgstr "--old-datadir="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:105(para)
msgid ""
"the old cluster data directory; environment variable <envar>PGDATAOLD</envar>"
msgstr ""
"каталог данных старого кластера; переменная окружения <envar>PGDATAOLD</"
"envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:111(option)
msgid "--new-datadir="
msgstr "--new-datadir="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:112(para)
msgid ""
"the new cluster data directory; environment variable <envar>PGDATANEW</envar>"
msgstr ""
"каталог данных нового кластера; переменная окружения <envar>PGDATANEW</envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:117(option)
msgid "-j"
msgstr "-j"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:118(option)
msgid "--jobs"
msgstr "--jobs"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:119(para)
msgid "number of simultaneous processes or threads to use"
msgstr "число одновременно задействуемых процессов или потоков"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:124(option)
msgid "-k"
msgstr "-k"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:125(option)
msgid "--link"
msgstr "--link"

#. +> REL_10 REL9_6
#: ref/pgupgrade.xml:126(para)
msgid "use hard links instead of copying files to the new cluster"
msgstr "использовать жёсткие ссылки вместо копирования файлов в новый кластер"

#. +> REL9_6_3
#: ref/pgupgrade.xml:126(para)
msgid ""
"use hard links instead of copying files to the new cluster (use junction "
"points on Windows)"
msgstr ""
"использовать жёсткие ссылки вместо копирования файлов в новый кластер (в "
"Windows использовать точки соединения)"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:131(option)
msgid "-o"
msgstr "-o"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:131(replaceable) ref/pgupgrade.xml:132(replaceable)
#: ref/pgupgrade.xml:139(replaceable) ref/pgupgrade.xml:140(replaceable)
msgid "options"
msgstr "параметры"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:132(option)
msgid "--old-options"
msgstr "--old-options"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:133(para)
msgid ""
"options to be passed directly to the old <command>postgres</command> "
"command; multiple option invocations are appended"
msgstr ""
"параметры, передаваемые непосредственно старой программе <command>postgres</"
"command>; несколько параметров складываются вместе"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:139(option)
msgid "-O"
msgstr "-O"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:140(option)
msgid "--new-options"
msgstr "--new-options"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:141(para)
msgid ""
"options to be passed directly to the new <command>postgres</command> "
"command; multiple option invocations are appended"
msgstr ""
"параметры, передаваемые непосредственно новой программе <command>postgres</"
"command>; несколько параметров складываются вместе"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:147(option)
msgid "-p"
msgstr "-p"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:147(replaceable) ref/pgupgrade.xml:148(replaceable)
#: ref/pgupgrade.xml:154(replaceable) ref/pgupgrade.xml:155(replaceable)
msgid "port"
msgstr "порт"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:148(option)
msgid "--old-port="
msgstr "--old-port="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:149(para)
msgid ""
"the old cluster port number; environment variable <envar>PGPORTOLD</envar>"
msgstr ""
"номер порта старого кластера; переменная окружения <envar>PGPORTOLD</envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:154(option)
msgid "-P"
msgstr "-P"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:155(option)
msgid "--new-port="
msgstr "--new-port="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:156(para)
msgid ""
"the new cluster port number; environment variable <envar>PGPORTNEW</envar>"
msgstr ""
"номер порта нового кластера; переменная окружения <envar>PGPORTNEW</envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:161(option)
msgid "-r"
msgstr "-r"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:162(option)
msgid "--retain"
msgstr "--retain"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:163(para)
msgid "retain SQL and log files even after successful completion"
msgstr "сохранить SQL и журналы сообщений даже при успешном завершении"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:168(option)
msgid "-U"
msgstr "-U"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:168(replaceable) ref/pgupgrade.xml:169(replaceable)
msgid "username"
msgstr "имя_пользователя"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:169(option)
msgid "--username="
msgstr "--username="

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:170(para)
msgid "cluster's install user name; environment variable <envar>PGUSER</envar>"
msgstr ""
"имя пользователя, установившего кластер; переменная окружения <envar>PGUSER</"
"envar>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:175(option)
msgid "-v"
msgstr "-v"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:176(option)
msgid "--verbose"
msgstr "--verbose"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:177(para)
msgid "enable verbose internal logging"
msgstr "включить подробные внутренние сообщения"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:181(option)
msgid "-V"
msgstr "-V"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:182(option)
msgid "--version"
msgstr "--version"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:183(para)
msgid "display version information, then exit"
msgstr "показать версию, а затем завершиться"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:187(option)
msgid "-?"
msgstr "-?"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:188(option)
msgid "--help"
msgstr "--help"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:189(para)
msgid "show help, then exit"
msgstr "показать справку, а затем завершиться"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:77(para)
msgid ""
"<application>pg_upgrade</application> accepts the following command-line "
"arguments: <placeholder-1/>"
msgstr ""
"<application>pg_upgrade</application> принимает следующие аргументы "
"командной строки: <placeholder-1/>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:198(title)
msgid "Usage"
msgstr "Использование"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:200(para)
msgid ""
"These are the steps to perform an upgrade with <application>pg_upgrade</"
"application>:"
msgstr ""
"Далее описан план обновления с использованием <application>pg_upgrade</"
"application>:"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:207(title)
msgid "Optionally move the old cluster"
msgstr "Переместить старый кластер (необязательно)"

#. +> REL_10
#: ref/pgupgrade.xml:209(para)
msgid ""
"If you are using a version-specific installation directory, e.g. <filename>/"
"opt/PostgreSQL/&majorversion;</filename>, you do not need to move the old "
"cluster. The graphical installers all use version-specific installation "
"directories."
msgstr ""
"Если ваш каталог инсталляции привязан к версии, например, <filename>/opt/"
"PostgreSQL/&majorversion;</filename>, перемещать его не требуется. Все "
"графические инсталляторы выбирают при установке каталоги, привязанные к "
"версии."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:209(para)
msgid ""
"If you are using a version-specific installation directory, e.g. <filename>/"
"opt/PostgreSQL/9.1</filename>, you do not need to move the old cluster. The "
"graphical installers all use version-specific installation directories."
msgstr ""
"Если ваш каталог инсталляции привязан к версии, например, <filename>/opt/"
"PostgreSQL/9.1</filename>, перемещать его не требуется. Все графические "
"инсталляторы выбирают при установке каталоги, привязанные к версии."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:223(programlisting)
#, no-wrap
msgid "mv /usr/local/pgsql /usr/local/pgsql.old"
msgstr "mv /usr/local/pgsql /usr/local/pgsql.old"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:215(para)
msgid ""
"If your installation directory is not version-specific, e.g. <filename>/usr/"
"local/pgsql</filename>, it is necessary to move the current PostgreSQL "
"install directory so it does not interfere with the new "
"<productname>PostgreSQL</productname> installation. Once the current "
"<productname>PostgreSQL</productname> server is shut down, it is safe to "
"rename the PostgreSQL installation directory; assuming the old directory is "
"<filename>/usr/local/pgsql</filename>, you can do: <placeholder-1/> to "
"rename the directory."
msgstr ""
"Если ваш каталог инсталляции не привязан к версии, например <filename>/usr/"
"local/pgsql</filename>, необходимо переместить каталог текущей инсталляции "
"PostgreSQL, чтобы он не конфликтовал с новой инсталляцией "
"<productname>PostgreSQL</productname>. Когда текущий сервер "
"<productname>PostgreSQL</productname> отключён, каталог этой инсталляции "
"PostgreSQL можно безопасно переместить; если старый каталог <filename>/usr/"
"local/pgsql</filename>, его можно переименовать, выполнив: <placeholder-1/>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:231(title)
msgid "For source installs, build the new version"
msgstr "Собрать новую версию при установке из исходного кода"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:233(para)
msgid ""
"Build the new PostgreSQL source with <command>configure</command> flags that "
"are compatible with the old cluster. <application>pg_upgrade</application> "
"will check <command>pg_controldata</command> to make sure all settings are "
"compatible before starting the upgrade."
msgstr ""
"Соберите из исходного кода новую версию PostgreSQL с флагами "
"<command>configure</command>, совместимыми с флагами старого кластера. "
"Программа <application>pg_upgrade</application> проверит результаты "
"<command>pg_controldata</command>, чтобы убедиться, что все параметры "
"совместимы, прежде чем начинать обновление."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:241(title)
msgid "Install the new PostgreSQL binaries"
msgstr "Установить новые исполняемые файлы PostgreSQL"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:243(para)
msgid ""
"Install the new server's binaries and support files. "
"<application>pg_upgrade</application> is included in a default installation."
msgstr ""
"Установите новые исполняемые файлы сервера и вспомогательные файлы. "
"Программа <application>pg_upgrade</application> включена в инсталляцию по "
"умолчанию."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:252(programlisting)
#, no-wrap
msgid "make prefix=/usr/local/pgsql.new install"
msgstr "make prefix=/usr/local/pgsql.new install"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:248(para)
msgid ""
"For source installs, if you wish to install the new server in a custom "
"location, use the <literal>prefix</literal> variable: <placeholder-1/>"
msgstr ""
"При установке из исходного кода, если вы хотите разместить сервер в "
"нестандартном каталоге, воспользуйтесь переменной <literal>prefix</literal>: "
"<placeholder-1/>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:258(title)
msgid "Initialize the new PostgreSQL cluster"
msgstr "Инициализировать новый кластер PostgreSQL"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:260(para)
msgid ""
"Initialize the new cluster using <command>initdb</command>. Again, use "
"compatible <command>initdb</command> flags that match the old cluster. Many "
"prebuilt installers do this step automatically. There is no need to start "
"the new cluster."
msgstr ""
"Инициализируйте новый кластер, используя <command>initdb</command>. При этом "
"так же необходимо указать флаги <command>initdb</command>, совместимые с "
"флагами в старом кластере. Многие готовые инсталляторы выполняют это "
"действие автоматически. Запускать новый кластер не требуется."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:270(title) ref/pgupgrade.xml:459(title)
msgid "Install custom shared object files"
msgstr "Установить дополнительные разделяемые объектные файлы"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:272(para)
msgid ""
"Install any custom shared object files (or DLLs) used by the old cluster "
"into the new cluster, e.g. <filename>pgcrypto.so</filename>, whether they "
"are from <filename>contrib</filename> or some other source. Do not install "
"the schema definitions, e.g. <command>CREATE EXTENSION pgcrypto</command>, "
"because these will be upgraded from the old cluster. Also, any custom full "
"text search files (dictionary, synonym, thesaurus, stop words) must also be "
"copied to the new cluster."
msgstr ""
"Установите в новый кластер все нестандартные разделяемые объектные файлы "
"(или DLL), которые использовались в старом кластере, например, "
"<filename>pgcrypto.so</filename>, где бы они ни находились — в "
"<filename>contrib</filename> или в другом месте. Устанавливать определения "
"схемы (например, <command>CREATE EXTENSION pgcrypto</command>) не требуется, "
"так как они будут перенесены из старого кластера. Кроме того, в новый "
"кластер нужно скопировать и все нестандартные файлы поддержки "
"полнотекстового поиска (словари, тезаурусы, списки синонимов и стоп-слов)."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:285(title)
msgid "Adjust authentication"
msgstr "Настроить аутентификацию"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:287(para)
msgid ""
"<command>pg_upgrade</command> will connect to the old and new servers "
"several times, so you might want to set authentication to <literal>peer</"
"literal> in <filename>pg_hba.conf</filename> or use a <filename>~/.pgpass</"
"filename> file (see <xref linkend=\"libpq-pgpass\"/>)."
msgstr ""
"Программа <command>pg_upgrade</command> будет подключаться к новому и "
"старому серверу несколько раз, так что имеет смысл установить режим "
"аутентификации <literal>peer</literal> в <filename>pg_hba.conf</filename> "
"или использовать файл <filename>~/.pgpass</filename> (см. <xref remap=\"4\" "
"linkend=\"libpq-pgpass\"/>)."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:296(title)
msgid "Stop both servers"
msgstr "Остановить оба сервера"

#. +> REL_10
#: ref/pgupgrade.xml:301(programlisting)
#, no-wrap
msgid ""
"pg_ctl -D /opt/PostgreSQL/9.6 stop\n"
"pg_ctl -D /opt/PostgreSQL/&majorversion; stop"
msgstr ""
"pg_ctl -D /opt/PostgreSQL/9.6 stop\n"
"pg_ctl -D /opt/PostgreSQL/&majorversion; stop"

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:301(programlisting)
#, no-wrap
msgid ""
"pg_ctl -D /opt/PostgreSQL/8.4 stop\n"
"pg_ctl -D /opt/PostgreSQL/9.0 stop"
msgstr ""
"pg_ctl -D /opt/PostgreSQL/8.4 stop\n"
"pg_ctl -D /opt/PostgreSQL/9.0 stop"

#. +> REL_10
#: ref/pgupgrade.xml:308(programlisting)
#, no-wrap
msgid ""
"NET STOP postgresql-9.6\n"
"NET STOP postgresql-&majorversion;"
msgstr ""
"NET STOP postgresql-9.6\n"
"NET STOP postgresql-&majorversion;"

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:308(programlisting)
#, no-wrap
msgid ""
"NET STOP postgresql-8.4\n"
"NET STOP postgresql-9.0"
msgstr ""
"NET STOP postgresql-8.4\n"
"NET STOP postgresql-9.0"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:298(para)
msgid ""
"Make sure both database servers are stopped using, on Unix, e.g.: "
"<placeholder-1/> or on Windows, using the proper service names: "
"<placeholder-2/>"
msgstr ""
"Убедитесь в том, что оба сервера баз данных остановлены. Для этого в Unix "
"можно выполнить: <placeholder-1/> А в Windows, с соответствующими именами "
"служб: <placeholder-2/>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:314(para)
msgid ""
"Streaming replication and log-shipping standby servers can remain running "
"until a later step."
msgstr ""
"Серверы резерва с потоковой репликацией и трансляцией журнала могут "
"продолжать работать до последнего шага."

#. +> REL_10 REL9_6
#: ref/pgupgrade.xml:321(title)
msgid "Prepare for standby server upgrades"
msgstr "Подготовьтесь к обновлению резервных серверов"

#. +> REL9_6_3
#: ref/pgupgrade.xml:321(title)
msgid "Verify standby servers"
msgstr "Проверить резервные серверы"

#. +> REL_10
#: ref/pgupgrade.xml:323(para)
msgid ""
"If you are upgrading standby servers using methods outlined in section <xref "
"linkend=\"pgupgrade-step-replicas\"/>, verify that the old standby servers "
"are caught up by running <application>pg_controldata</application> against "
"the old primary and standby clusters. Verify that the <quote>Latest "
"checkpoint location</quote> values match in all clusters. (There will be a "
"mismatch if old standby servers were shut down before the old primary.) "
"Also, change <varname>wal_level</varname> to <literal>replica</literal> in "
"the <filename>postgresql.conf</filename> file on the new primary cluster."
msgstr ""
"Если вы производите обновление ведомых серверов (как описано в разделе <xref "
"linkend=\"pgupgrade-step-replicas\"/>), удостоверьтесь, что эти серверы "
"находятся в актуальном состоянии, запустив <application>pg_controldata</"
"application> в старых ведущем и ведомых кластерах. Убедитесь в том, что "
"<quote>Положение последней контрольной точки</quote> во всех кластерах "
"одинаковое. (Несовпадение будет иметь место, если старые ведомые серверы "
"будут отключены раньше, чем старый ведущий.) Также смените "
"<varname>wal_level</varname> на <literal>replica</literal> в файле "
"<filename>postgresql.conf</filename> нового ведущего кластера."

#. +> REL9_6_3
#: ref/pgupgrade.xml:323(para)
msgid ""
"If you are upgrading Streaming Replication and Log-Shipping standby servers, "
"verify that the old standby servers are caught up by running "
"<application>pg_controldata</application> against the old primary and "
"standby clusters. Verify that the <quote>Latest checkpoint location</quote> "
"values match in all clusters. (There will be a mismatch if old standby "
"servers were shut down before the old primary.)"
msgstr ""
"Если вы производите обновление серверов резерва с потоковой репликацией, "
"удостоверьтесь, что старые серверы резерва находятся в актуальном состоянии, "
"запустив <application>pg_controldata</application> в старых ведущем и "
"резервных кластерах. Убедитесь в том, что значения <quote>Положение "
"последней контрольной точки</quote> во всех кластерах совпадают. "
"(Несовпадение будет иметь место, если старые резервные серверы будут "
"отключены раньше, чем старый ведущий.)"

#. +> REL9_6
#: ref/pgupgrade.xml:323(para)
msgid ""
"If you are upgrading standby servers (as outlined in section <xref linkend="
"\"pgupgrade-step-replicas\"/>), verify that the old standby servers are "
"caught up by running <application>pg_controldata</application> against the "
"old primary and standby clusters. Verify that the <quote>Latest checkpoint "
"location</quote> values match in all clusters. (There will be a mismatch if "
"old standby servers were shut down before the old primary.)"
msgstr ""
"Если вы производите обновление резервных серверов (как описано в разделе "
"<xref linkend=\"pgupgrade-step-replicas\"/>), удостоверьтесь, что старые "
"серверы резерва находятся в актуальном состоянии, запустив "
"<application>pg_controldata</application> в старых ведущем и резервных "
"кластерах. Убедитесь в том, что значения <quote>Положение последней "
"контрольной точки</quote> во всех кластерах совпадают. (Несовпадение будет "
"иметь место, если старые резервные серверы будут отключены раньше, чем "
"старый ведущий.)"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:337(title)
msgid "Run <application>pg_upgrade</application>"
msgstr "Запустить <application>pg_upgrade</application>"

#. +> REL_10
#: ref/pgupgrade.xml:339(para)
msgid ""
"Always run the <application>pg_upgrade</application> binary of the new "
"server, not the old one. <application>pg_upgrade</application> requires the "
"specification of the old and new cluster's data and executable "
"(<filename>bin</filename>) directories. You can also specify user and port "
"values, and whether you want the data files linked instead of the default "
"copy behavior."
msgstr ""
"Всегда запускайте программу <application>pg_upgrade</application> от нового "
"сервера, а не от старого. <application>pg_upgrade</application> требует "
"указания каталогов данных старого и нового кластера, а также каталогов "
"исполняемых файлов (<filename>bin</filename>). Вы можете также определить "
"имя пользователя и номера портов, и нужно ли копировать файлы данных (по "
"умолчанию) или создавать ссылки на них."

#. +> REL_10
#: ref/pgupgrade.xml:347(para)
msgid ""
"If you use link mode, the upgrade will be much faster (no file copying) and "
"use less disk space, but you will not be able to access your old cluster "
"once you start the new cluster after the upgrade. Link mode also requires "
"that the old and new cluster data directories be in the same file system. "
"(Tablespaces and <filename>pg_wal</filename> can be on different file "
"systems.) See <literal>pg_upgrade --help</literal> for a full list of "
"options."
msgstr ""
"Если выбрать вариант со ссылкой на данные, обновление выполнится гораздо "
"быстрее (так как файлы не копируются) и потребует меньше места на диске, но "
"вы лишитесь возможности обращаться к вашему старому кластеру, запустив новый "
"после обновления. Этот вариант также требует, чтобы каталоги данных старого "
"и нового кластера располагались в одной файловой системе. (Табличные "
"пространства и <filename>pg_wal</filename> могут находиться в других "
"файловых системах.) Полный список параметров вы можете получить, выполнив "
"<literal>pg_upgrade --help</literal>."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:358(para)
msgid ""
"The <option>--jobs</option> option allows multiple CPU cores to be used for "
"copying/linking of files and to dump and reload database schemas in "
"parallel; a good place to start is the maximum of the number of CPU cores "
"and tablespaces. This option can dramatically reduce the time to upgrade a "
"multi-database server running on a multiprocessor machine."
msgstr ""
"Параметр <option>--jobs</option> позволяет задействовать для копирования/"
"связывания файлов и для выгрузки/перезагрузки схем баз данных несколько "
"процессорных ядер. В качестве начального значения параметра стоит выбрать "
"максимум из числа процессорных ядер и числа табличных пространств. Этот "
"параметр может радикально сократить время обновления сервера со множеством "
"баз данных, работающего в многопроцессорной системе."

#. +> REL_10
#: ref/pgupgrade.xml:371(programlisting)
#, no-wrap
msgid ""
"RUNAS /USER:postgres \"CMD.EXE\"\n"
"SET PATH=%PATH%;C:\\Program Files\\PostgreSQL\\&majorversion;\\bin;"
msgstr ""
"RUNAS /USER:postgres \"CMD.EXE\"\n"
"SET PATH=%PATH%;C:\\Program Files\\PostgreSQL\\&majorversion;\\bin;"

#. +> REL_10
#: ref/pgupgrade.xml:378(programlisting)
#, no-wrap
msgid ""
"pg_upgrade.exe\n"
"        --old-datadir \"C:/Program Files/PostgreSQL/9.6/data\"\n"
"        --new-datadir \"C:/Program Files/PostgreSQL/&majorversion;/data\"\n"
"        --old-bindir \"C:/Program Files/PostgreSQL/9.6/bin\"\n"
"        --new-bindir \"C:/Program Files/PostgreSQL/&majorversion;/bin\""
msgstr ""
"pg_upgrade.exe\n"
"        --old-datadir \"C:/Program Files/PostgreSQL/9.6/data\"\n"
"        --new-datadir \"C:/Program Files/PostgreSQL/&majorversion;/data\"\n"
"        --old-bindir \"C:/Program Files/PostgreSQL/9.6/bin\"\n"
"        --new-bindir \"C:/Program Files/PostgreSQL/&majorversion;/bin\""

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:367(para)
msgid ""
"For Windows users, you must be logged into an administrative account, and "
"then start a shell as the <literal>postgres</literal> user and set the "
"proper path: <placeholder-1/> and then run <application>pg_upgrade</"
"application> with quoted directories, e.g.: <placeholder-2/> Once started, "
"<command>pg_upgrade</command> will verify the two clusters are compatible "
"and then do the upgrade. You can use <command>pg_upgrade --check</command> "
"to perform only the checks, even if the old server is still running. "
"<command>pg_upgrade --check</command> will also outline any manual "
"adjustments you will need to make after the upgrade. If you are going to be "
"using link mode, you should use the <option>--link</option> option with "
"<option>--check</option> to enable link-mode-specific checks. "
"<command>pg_upgrade</command> requires write permission in the current "
"directory."
msgstr ""
"В Windows вы должны войти в систему с административными полномочиями, затем "
"запустить командную строку от имени пользователя <literal>postgres</"
"literal>, задать подходящий путь: <placeholder-1/> Наконец, запустить "
"<application>pg_upgrade</application> с путями каталогов в кавычках, "
"например, так: <placeholder-2/> При запуске <command>pg_upgrade</command> "
"проверит два кластера на совместимость и, если всё в порядке, выполнит "
"обновление. Также возможно запустить <command>pg_upgrade --check</command>, "
"чтобы ограничиться только проверками (при этом старый сервер может "
"продолжать работать). Команда <command>pg_upgrade --check</command> также "
"сообщит, какие коррективы вам нужно будет внести вручную после обновления. "
"Если вы планируете использовать режим ссылок на данные, укажите вместе с "
"<option>--check</option> параметр <option>--link</option>, чтобы были "
"проведены специальные проверки для этого режима. Программе "
"<command>pg_upgrade</command> требуются права на запись в текущий каталог."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:396(para)
msgid ""
"Obviously, no one should be accessing the clusters during the upgrade. "
"<application>pg_upgrade</application> defaults to running servers on port "
"50432 to avoid unintended client connections. You can use the same port "
"number for both clusters when doing an upgrade because the old and new "
"clusters will not be running at the same time. However, when checking an old "
"running server, the old and new port numbers must be different."
msgstr ""
"Очевидно, никто не должен обращаться к кластерам в процессе обновления. "
"Программа <application>pg_upgrade</application> по умолчанию запускает "
"серверы с портом 50432, чтобы не допустить нежелательных клиентских "
"подключений. В процессе обновления оба кластера могут использовать один "
"номер порта, так как они не будут работать одновременно. Однако для проверки "
"старого работающего сервера новый порт должен отличаться от старого."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:406(para)
msgid ""
"If an error occurs while restoring the database schema, <command>pg_upgrade</"
"command> will exit and you will have to revert to the old cluster as "
"outlined in <xref linkend=\"pgupgrade-step-revert\"/> below. To try "
"<command>pg_upgrade</command> again, you will need to modify the old cluster "
"so the pg_upgrade schema restore succeeds. If the problem is a "
"<filename>contrib</filename> module, you might need to uninstall the "
"<filename>contrib</filename> module from the old cluster and install it in "
"the new cluster after the upgrade, assuming the module is not being used to "
"store user data."
msgstr ""
"Если при восстановлении схемы базы данных происходит ошибка, "
"<command>pg_upgrade</command> завершает свою работу и вы должны вернуться к "
"старому кластеру, как описывается ниже в <xref linkend=\"pgupgrade-step-"
"revert\"/>. Чтобы попробовать <command>pg_upgrade</command> ещё раз, вы "
"должны внести коррективы в старом кластере, чтобы pg_upgrade могла успешно "
"восстановить схему. Если проблема возникла в модуле <filename>contrib</"
"filename>, может потребоваться удалить этот модуль <filename>contrib</"
"filename> в старом кластере, а затем установить его в новом после обновления "
"(предполагается, что этот модуль не хранит пользовательские данные)."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:418(title)
msgid "Upgrade Streaming Replication and Log-Shipping standby servers"
msgstr "Обновить серверы резерва с потоковой репликацией и трансляцией журнала"

#. +> REL_10
#: ref/pgupgrade.xml:420(para)
msgid ""
"If you used link mode and have Streaming Replication (see <xref linkend="
"\"streaming-replication\"/>) or Log-Shipping (see <xref linkend=\"warm-"
"standby\"/>) standby servers, you can follow these steps to quickly upgrade "
"them. You will not be running <application>pg_upgrade</application> on the "
"standby servers, but rather <application>rsync</application> on the primary. "
"Do not start any servers yet."
msgstr ""
"Если вы используете режим ссылок и у вас реализована потоковая репликация "
"(см. <xref remap=\"4\" linkend=\"streaming-replication\"/>) или трансляция "
"журнала (см. <xref remap=\"4\" linkend=\"warm-standby\"/>) для ведомых "
"серверов, вы можете быстро обновить эти серверы следующим образом. Вам не "
"нужно будет запускать на них <application>pg_upgrade</application>, вместо "
"этого вы выполните <application>rsync</application> на ведущем. Не "
"запускайте никакие серверы на этом этапе."

#. +> REL_10
#: ref/pgupgrade.xml:429(para)
msgid ""
"If you did <emphasis>not</emphasis> use link mode, do not have or do not "
"want to use <application>rsync</application>, or want an easier solution, "
"skip the instructions in this section and simply recreate the standby "
"servers once <application>pg_upgrade</application> completes and the new "
"primary is running."
msgstr ""
"Если вы <emphasis>не</emphasis> используете режим ссылок, либо у вас нет "
"<application>rsync</application> или вы не хотите его использовать, либо "
"если вам нужен более простой вариант, пропустите инструкции в этом разделе и "
"просто пересоздайте ведомые серверы сразу после завершения "
"<application>pg_upgrade</application> и запуска нового ведущего сервера."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:440(title)
msgid "Install the new PostgreSQL binaries on standby servers"
msgstr "Установите новые исполняемые файлы PostgreSQL на резервных серверах"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:442(para)
msgid ""
"Make sure the new binaries and support files are installed on all standby "
"servers."
msgstr ""
"Убедитесь в том, что на всех резервных серверах установлены новые "
"исполняемые и вспомогательные файлы."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:449(title)
msgid ""
"Make sure the new standby data directories do <emphasis>not</emphasis> exist"
msgstr ""
"Убедитесь в том, что новые каталоги данных на резервных серверах "
"<emphasis>не</emphasis> существуют"

#. +> REL_10
#: ref/pgupgrade.xml:451(para)
msgid ""
"Make sure the new standby data directories do <emphasis>not</emphasis> exist "
"or are empty. If <application>initdb</application> was run, delete the "
"standby servers' new data directories."
msgstr ""
"Новые каталоги данных ведомых серверов должны <emphasis>отсутствовать</"
"emphasis> либо быть пустыми. Если запускалась программа <application>initdb</"
"application>, удалите новые каталоги данных на ведомых."

#. +> REL_10
#: ref/pgupgrade.xml:461(para)
msgid ""
"Install the same custom shared object files on the new standbys that you "
"installed in the new primary cluster."
msgstr ""
"Установите на новых ведомых серверах те же дополнительные разделяемые "
"объектные файлы, что вы установили в новом ведущем кластере."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:468(title)
msgid "Stop standby servers"
msgstr "Остановите ведомые серверы"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:470(para)
msgid ""
"If the standby servers are still running, stop them now using the above "
"instructions."
msgstr ""
"Если ведомые серверы продолжают работу, остановите их, следуя приведённым "
"выше инструкциям."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:477(title)
msgid "Save configuration files"
msgstr "Сохраните файлы конфигурации"

#. +> REL_10
#: ref/pgupgrade.xml:479(para)
msgid ""
"Save any configuration files from the old standbys' data directories you "
"need to keep, e.g. <filename>postgresql.conf</filename>, <literal>recovery."
"conf</literal>, because these will be overwritten or removed in the next "
"step."
msgstr ""
"Сохраните все нужные вам файлы конфигурации из старых каталогов данных "
"ведомых серверов, в частности <filename>postgresql.conf</filename> и "
"<literal>recovery.conf</literal>, так как они будут перезаписаны или удалены "
"на следующем этапе."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:488(title)
msgid "Run <application>rsync</application>"
msgstr "Запустите <application>rsync</application>"

#. +> REL_10
#: ref/pgupgrade.xml:497(programlisting)
#, no-wrap
msgid "rsync --archive --delete --hard-links --size-only --no-inc-recursive old_pgdata new_pgdata remote_dir"
msgstr "rsync --archive --delete --hard-links --size-only --no-inc-recursive old_pgdata new_pgdata remote_dir"

#. +> REL_10
#: ref/pgupgrade.xml:509(programlisting)
#, no-wrap
msgid ""
"rsync --archive --delete --hard-links --size-only --no-inc-recursive /opt/PostgreSQL/9.5/data \\\n"
"      /opt/PostgreSQL/9.6/data standby.example.com:/opt/PostgreSQL"
msgstr ""
"rsync --archive --delete --hard-links --size-only --no-inc-recursive /opt/PostgreSQL/9.5/data \\\n"
"      /opt/PostgreSQL/9.6/data standby.example.com:/opt/PostgreSQL"

#. +> REL_10
#: ref/pgupgrade.xml:490(para)
msgid ""
"When using link mode, standby servers can be quickly upgraded using "
"<application>rsync</application>. To accomplish this, from a directory on "
"the primary server that is above the old and new database cluster "
"directories, run this on the <emphasis>primary</emphasis> for each standby "
"server: <placeholder-1/> where <option>old_pgdata</option> and "
"<option>new_pgdata</option> are relative to the current directory on the "
"primary, and <option>remote_dir</option> is <emphasis>above</emphasis> the "
"old and new cluster directories on the standby. The directory structure "
"under the specified directories on the primary and standbys must match. "
"Consult the <application>rsync</application> manual page for details on "
"specifying the remote directory, e.g. <placeholder-2/> You can verify what "
"the command will do using <application>rsync</application>'s <option>--dry-"
"run</option> option. While <application>rsync</application> must be run on "
"the primary for at least one standby, it is possible to run "
"<application>rsync</application> on an upgraded standby to upgrade other "
"standbys, as long as the upgraded standby has not been started."
msgstr ""
"Когда используется режим ссылок, ведомые серверы можно быстро обновить, "
"применив <application>rsync</application>. Для этого в каталоге, внутри "
"которого находятся каталоги старого и нового кластера, для каждого ведомого "
"сервера выполните на <emphasis>ведущем</emphasis>: <placeholder-1/> Здесь "
"каталоги <option>old_pgdata</option> и <option>new_pgdata</option> задаются "
"относительно текущего каталога на ведущем, а <option>remote_dir</option> "
"находится <emphasis>над</emphasis> каталогами старого и нового кластера на "
"ведомом. Структура подкаталогов в заданных каталогах на ведущем и ведомых "
"серверах должна быть одинаковой. Обратитесь к странице руководства "
"<application>rsync</application>, где подробно описано, как указать "
"удалённый каталог, например так: <placeholder-2/> Проверить, что будет "
"делать команда, можно, воспользовавшись параметром <application>rsync</"
"application> <option>--dry-run</option>. Выполнить <application>rsync</"
"application> на ведущем необходимо как минимум с одним ведомым, но затем, "
"пока обновлённый ведомый остаётся остановленным, можно запускать "
"<application>rsync</application> на нём для обновления других ведомых."

#. +> REL_10
#: ref/pgupgrade.xml:522(para)
msgid ""
"What this does is to record the links created by <application>pg_upgrade</"
"application>'s link mode that connect files in the old and new clusters on "
"the primary server. It then finds matching files in the standby's old "
"cluster and creates links for them in the standby's new cluster. Files that "
"were not linked on the primary are copied from the primary to the standby. "
"(They are usually small.) This provides rapid standby upgrades. "
"Unfortunately, <application>rsync</application> needlessly copies files "
"associated with temporary and unlogged tables because these files don't "
"normally exist on standby servers."
msgstr ""
"В ходе этой операции записываются ссылки, созданные режимом ссылок "
"<application>pg_upgrade</application>, связывающие файлы нового и старого "
"кластера на ведущем сервере. Затем в старом кластере ведомого находятся "
"соответствующие файлы и в новом кластере ведомого создаются ссылки на них. "
"Файлы, не связанные ссылками на ведущем, копируются с него на ведомый. "
"(Обычно их объём невелик.) Это позволяет произвести обновление ведомого "
"быстро. К сожалению, при этом <application>rsync</application> будет "
"напрасно копировать файлы, связанные с временными и нежурналируемыми "
"таблицами, так как они обычно не будут существовать на ведомых серверах."

#. +> REL_10
#: ref/pgupgrade.xml:539(programlisting)
#, no-wrap
msgid ""
"rsync --archive --delete --hard-links --size-only --no-inc-recursive /vol1/pg_tblsp/PG_9.5_201510051 \\\n"
"      /vol1/pg_tblsp/PG_9.6_201608131 standby.example.com:/vol1/pg_tblsp"
msgstr ""
"rsync --archive --delete --hard-links --size-only --no-inc-recursive /vol1/pg_tblsp/PG_9.5_201510051 \\\n"
"      /vol1/pg_tblsp/PG_9.6_201608131 standby.example.com:/vol1/pg_tblsp"

#. +> REL_10
#: ref/pgupgrade.xml:535(para)
msgid ""
"If you have tablespaces, you will need to run a similar <application>rsync</"
"application> command for each tablespace directory, e.g.: <placeholder-1/> "
"If you have relocated <filename>pg_wal</filename> outside the data "
"directories, <application>rsync</application> must be run on those "
"directories too."
msgstr ""
"Если у вас есть табличные пространства, вам потребуется выполнить подобную "
"команду <application>rsync</application> для каталогов всех табличных "
"пространств, например: <placeholder-1/> Если вы вынесли <filename>pg_wal</"
"filename> за пределы каталогов данных, нужно будет запустить "
"<application>rsync</application> и для этих каталогов."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:551(title)
msgid "Configure streaming replication and log-shipping standby servers"
msgstr ""
"Настройте серверы резерва с потоковой репликацией и трансляцией журнала"

#. +> REL_10
#: ref/pgupgrade.xml:553(para)
msgid ""
"Configure the servers for log shipping. (You do not need to run "
"<function>pg_start_backup()</function> and <function>pg_stop_backup()</"
"function> or take a file system backup as the standbys are still "
"synchronized with the primary.)"
msgstr ""
"Настройте серверы для трансляции журнала. (Запускать "
"<function>pg_start_backup()</function> и <function>pg_stop_backup()</"
"function> или делать копию файловой системы не нужно, так как ведомые "
"серверы остаются синхронизированными с ведущим.)"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:566(title)
msgid "Restore <filename>pg_hba.conf</filename>"
msgstr "Восстановить <filename>pg_hba.conf</filename>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:568(para)
msgid ""
"If you modified <filename>pg_hba.conf</filename>, restore its original "
"settings. It might also be necessary to adjust other configuration files in "
"the new cluster to match the old cluster, e.g. <filename>postgresql.conf</"
"filename>."
msgstr ""
"Если вы изменяли <filename>pg_hba.conf</filename>, восстановите его исходное "
"состояние. Также может потребоваться скорректировать другие файлы "
"конфигурации в новом кластере, чтобы они соответствовали старому, например "
"<filename>postgresql.conf</filename>."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:576(title)
msgid "Start the new server"
msgstr "Запустить новый сервер"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:578(para)
msgid ""
"The new server can now be safely started, and then any <application>rsync</"
"application>'ed standby servers."
msgstr ""
"Теперь можно безопасно запустить новый сервер, а затем резервные серверы, "
"синхронизированные с ним с помощью <application>rsync</application>."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:585(title)
msgid "Post-Upgrade processing"
msgstr "Действия после обновления"

#. +> REL_10
#: ref/pgupgrade.xml:594(programlisting)
#, no-wrap
msgid "psql --username=postgres --file=script.sql postgres"
msgstr "psql --username=postgres --file=script.sql postgres"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:587(para)
msgid ""
"If any post-upgrade processing is required, pg_upgrade will issue warnings "
"as it completes. It will also generate script files that must be run by the "
"administrator. The script files will connect to each database that needs "
"post-upgrade processing. Each script should be run using: <placeholder-1/> "
"The scripts can be run in any order and can be deleted once they have been "
"run."
msgstr ""
"Если после обновления требуются какие-то дополнительные действия, программа "
"pg_upgrade выдаст предупреждения об этом по завершении работы. Она также "
"сгенерирует файлы скриптов, которые должны запускаться администратором. Эти "
"скрипты будут подключаться к каждой базе данных, требующей дополнительных "
"операций. Каждый такой скрипт следует выполнять командой: <placeholder-1/> "
"Эти скрипты могут выполняться в любом порядке, а после выполнения их можно "
"удалить."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:603(para)
msgid ""
"In general it is unsafe to access tables referenced in rebuild scripts until "
"the rebuild scripts have run to completion; doing so could yield incorrect "
"results or poor performance. Tables not referenced in rebuild scripts can be "
"accessed immediately."
msgstr ""
"Обычно к таблицам, задействованным в перестраивающих базу скриптах, опасно "
"обращаться, пока эти скрипты не сделают свою работу; при этом можно получить "
"некорректный результат или плохую производительность. К таблицам, не "
"задействованным в таких скриптах, можно обращаться немедленно."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:613(title)
msgid "Statistics"
msgstr "Статистика"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:615(para)
msgid ""
"Because optimizer statistics are not transferred by <command>pg_upgrade</"
"command>, you will be instructed to run a command to regenerate that "
"information at the end of the upgrade. You might need to set connection "
"parameters to match your new cluster."
msgstr ""
"Так как статистика оптимизатора не передаётся в процессе работы "
"<command>pg_upgrade</command>, вы получите указание запустить "
"соответствующую команду для воссоздания этой информации после обновления. "
"Возможно, для этого вам понадобится установить параметры подключения к "
"новому кластеру."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:624(title)
msgid "Delete old cluster"
msgstr "Удалить старый кластер"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:626(para)
msgid ""
"Once you are satisfied with the upgrade, you can delete the old cluster's "
"data directories by running the script mentioned when <command>pg_upgrade</"
"command> completes. (Automatic deletion is not possible if you have user-"
"defined tablespaces inside the old data directory.) You can also delete the "
"old installation directories (e.g. <filename>bin</filename>, "
"<filename>share</filename>)."
msgstr ""
"Если вы удовлетворены результатами обновления, вы можете удалить каталоги "
"данных старого кластера, запустив скрипт, упомянутый в выводе "
"<command>pg_upgrade</command> после обновления. (Автоматическое удаление "
"невозможно, если в старом каталоге данных находятся дополнительные табличные "
"пространства.) Также вы можете удалить каталоги старой инсталляции "
"(например, <filename>bin</filename>, <filename>share</filename>)."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:637(title)
msgid "Reverting to old cluster"
msgstr "Возврат к старому кластеру"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:645(para)
msgid ""
"If you ran <command>pg_upgrade</command> with <option>--check</option>, no "
"modifications were made to the old cluster and you can re-use it anytime."
msgstr ""
"Если <command>pg_upgrade</command> запускалась с ключом <option>--check</"
"option>, никакие изменения в старом кластере не производились и его "
"использование можно продолжить в любой момент."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:653(para)
msgid ""
"If you ran <command>pg_upgrade</command> with <option>--link</option>, the "
"data files are shared between the old and new cluster. If you started the "
"new cluster, the new server has written to those shared files and it is "
"unsafe to use the old cluster."
msgstr ""
"Если <command>pg_upgrade</command> запускалась с параметром <option>--link</"
"option>, файлы данных будут разделяться старым и новым кластером. Если новый "
"кластер уже запускался, он произвёл запись в эти файлы, так что использовать "
"старый кластер небезопасно."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:663(para)
msgid ""
"If you ran <command>pg_upgrade</command> <emphasis>without</emphasis> "
"<option>--link</option> or did not start the new server, the old cluster was "
"not modified except that, if linking started, a <literal>.old</literal> "
"suffix was appended to <filename>$PGDATA/global/pg_control</filename>. To "
"reuse the old cluster, possibly remove the <filename>.old</filename> suffix "
"from <filename>$PGDATA/global/pg_control</filename>; you can then restart "
"the old cluster."
msgstr ""
"Если <command>pg_upgrade</command> запускалась <emphasis>без</emphasis> "
"ключа <option>--link</option> или новый сервер не запускался, старый кластер "
"не претерпел никаких изменений, за исключением того, что в режиме ссылки на "
"данные к имени <filename>$PGDATA/global/pg_control</filename> было добавлено "
"окончание <literal>.old</literal>. Чтобы продолжить использование старого "
"кластера, можно просто убрать окончание <filename>.old</filename> из имени "
"файла <filename>$PGDATA/global/pg_control</filename>; после этого старый "
"кластер можно будет перезапустить."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:639(para)
msgid ""
"If, after running <command>pg_upgrade</command>, you wish to revert to the "
"old cluster, there are several options: <placeholder-1/>"
msgstr ""
"Если выполнив команду <command>pg_upgrade</command>, вы захотите вернуться к "
"старому кластеру, возможны следующие варианты: <placeholder-1/>"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:682(title)
msgid "Notes"
msgstr "Замечания"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:684(para)
msgid ""
"<application>pg_upgrade</application> does not support upgrading of "
"databases containing these <type>reg*</type> OID-referencing system data "
"types: <type>regproc</type>, <type>regprocedure</type>, <type>regoper</"
"type>, <type>regoperator</type>, <type>regconfig</type>, and "
"<type>regdictionary</type>. (<type>regtype</type> can be upgraded.)"
msgstr ""
"<application>pg_upgrade</application> не поддерживает обновление баз данных, "
"содержащих следующие ссылающиеся на OID системные типы данных <type>reg*</"
"type>: <type>regproc</type>, <type>regprocedure</type>, <type>regoper</"
"type>, <type>regoperator</type>, <type>regconfig</type> и "
"<type>regdictionary</type>. (Обновление <type>regtype</type> возможно.)"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:692(para)
msgid ""
"All failure, rebuild, and reindex cases will be reported by "
"<application>pg_upgrade</application> if they affect your installation; post-"
"upgrade scripts to rebuild tables and indexes will be generated "
"automatically. If you are trying to automate the upgrade of many clusters, "
"you should find that clusters with identical database schemas require the "
"same post-upgrade steps for all cluster upgrades; this is because the post-"
"upgrade steps are based on the database schemas, and not user data."
msgstr ""
"Программа <application>pg_upgrade</application> сообщит обо всех актуальных "
"для вашей инсталляции ошибках и потребностях перестроения или переиндексации "
"базы; при этом будут созданы завершающие обновление скрипты, перестраивающие "
"таблицы или индексы. Если вы попытаетесь автоматизировать обновление "
"множества серверов, вы обнаружите, что для кластеров с одинаковыми схемами "
"баз данных потребуются одинаковые действия после обновления; это объясняется "
"тем, что эти действия диктуются схемой базы данных, а не данными "
"пользователей."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:703(para)
msgid ""
"For deployment testing, create a schema-only copy of the old cluster, insert "
"dummy data, and upgrade that."
msgstr ""
"Для проверки развёртывания новой версии создайте копию только схемы старого "
"кластера, наполните этот кластер фиктивными данными, и попробуйте обновить "
"его."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:708(para)
msgid ""
"If you are upgrading a pre-<productname>PostgreSQL</productname> 9.2 cluster "
"that uses a configuration-file-only directory, you must pass the real data "
"directory location to <application>pg_upgrade</application>, and pass the "
"configuration directory location to the server, e.g. <literal>-d /real-data-"
"directory -o '-D /configuration-directory'</literal>."
msgstr ""
"Если вы производите обновление кластера <productname>PostgreSQL</"
"productname> версии до 9.2, в которой используется каталог только с файлами "
"конфигурации, вы должны передать расположение собственно каталога с данными "
"программе <application>pg_upgrade</application>, а расположение каталога "
"конфигурации передать серверу, например <literal>-d /каталог-данных -o '-D /"
"каталог-конфигурации'</literal>."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:716(para)
msgid ""
"If using a pre-9.1 old server that is using a non-default Unix-domain socket "
"directory or a default that differs from the default of the new cluster, set "
"<envar>PGHOST</envar> to point to the old server's socket location. (This is "
"not relevant on Windows.)"
msgstr ""
"Если вы используете старый сервер версии до 9.1, работающий с нестандартным "
"каталогом доменных сокетов Unix, либо его стандартное расположение "
"отличается от принятого в новой версии, задайте в <envar>PGHOST</envar> "
"расположение сокета старого сервера. (К Windows это не относится.)"

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:723(para)
msgid ""
"If you want to use link mode and you do not want your old cluster to be "
"modified when the new cluster is started, make a copy of the old cluster and "
"upgrade that in link mode. To make a valid copy of the old cluster, use "
"<command>rsync</command> to create a dirty copy of the old cluster while the "
"server is running, then shut down the old server and run <command>rsync --"
"checksum</command> again to update the copy with any changes to make it "
"consistent. (<option>--checksum</option> is necessary because "
"<command>rsync</command> only has file modification-time granularity of one "
"second.) You might want to exclude some files, e.g. <filename>postmaster."
"pid</filename>, as documented in <xref linkend=\"backup-lowlevel-base-backup"
"\"/>. If your file system supports file system snapshots or copy-on-write "
"file copies, you can use that to make a backup of the old cluster and "
"tablespaces, though the snapshot and copies must be created simultaneously "
"or while the database server is down."
msgstr ""
"Если вы хотите использовать режим ссылок на данные, но не хотите каких-либо "
"изменений в старом кластере при запуске нового, сделайте копию старого "
"кластера и обновите его в этом режиме. Чтобы получить рабочую копию старого "
"кластера, воспользуйтесь командой <command>rsync</command> и создайте "
"предварительную копию кластера при работающем сервере, а затем отключите "
"старый сервер и ещё раз запустите <command>rsync --checksum</command>, чтобы "
"привести эту копию в согласованное состояние. (Ключ <option>--checksum</"
"option> необходим, потому что <command>rsync</command> различает время с "
"точностью только до секунд.) При этом вы можете исключить некоторые файлы, "
"например <filename>postmaster.pid</filename>, как описано в <xref remap="
"\"6\" linkend=\"backup-lowlevel-base-backup\"/>. Если ваша файловая система "
"поддерживает снимки файловой системы или копирование при записи, вы можете "
"воспользоваться этим для создания копии старого кластера и табличных "
"пространств; при этом важно, чтобы такие снимки и копии файлов создавались "
"одномоментно или когда сервер баз данных отключён."

#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:744(title)
msgid "See Also"
msgstr "См. также"

#. Put one translator per line, in the form of NAME <EMAIL>, YEAR1, YEAR2
#. +> REL_10 REL9_6_3 REL9_6
#: ref/pgupgrade.xml:0(None)
msgid "translator-credits"
msgstr "translator-credits"

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:336(para)
msgid ""
"Always run the <application>pg_upgrade</application> binary of the new "
"server, not the old one. <application>pg_upgrade</application> requires the "
"specification of the old and new cluster's data and executable "
"(<filename>bin</filename>) directories. You can also specify user and port "
"values, and whether you want the data linked instead of copied (the default)."
msgstr ""
"Всегда запускайте программу <application>pg_upgrade</application> от нового "
"сервера, а не от старого. <application>pg_upgrade</application> требует "
"указания каталогов данных старого и нового кластера, а также каталогов "
"исполняемых файлов (<filename>bin</filename>). Вы можете также определить "
"имя пользователя и номера портов, и следует ли ограничиться ссылкой на "
"данные, а не копировать их (по умолчанию)."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:344(para)
msgid ""
"If you use link mode, the upgrade will be much faster (no file copying) and "
"use less disk space, but you will not be able to access your old cluster "
"once you start the new cluster after the upgrade. Link mode also requires "
"that the old and new cluster data directories be in the same file system. "
"(Tablespaces and <filename>pg_xlog</filename> can be on different file "
"systems.) See <literal>pg_upgrade --help</literal> for a full list of "
"options."
msgstr ""
"Если выбрать вариант со ссылкой на данные, обновление выполнится гораздо "
"быстрее (так как файлы не копируются) и потребует меньше места на диске, но "
"вы лишитесь возможности обращаться к вашему старому кластеру, запустив новый "
"после обновления. Этот вариант также требует, чтобы каталоги данных старого "
"и нового кластера располагались в одной файловой системе. (Табличные "
"пространства и <filename>pg_xlog</filename> могут находиться в других "
"файловых системах.) Полный список параметров вы можете получить, выполнив "
"<literal>pg_upgrade --help</literal>."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:368(programlisting)
#, no-wrap
msgid ""
"RUNAS /USER:postgres \"CMD.EXE\"\n"
"SET PATH=%PATH%;C:\\Program Files\\PostgreSQL\\9.0\\bin;"
msgstr ""
"RUNAS /USER:postgres \"CMD.EXE\"\n"
"SET PATH=%PATH%;C:\\Program Files\\PostgreSQL\\9.0\\bin;"

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:375(programlisting)
#, no-wrap
msgid ""
"pg_upgrade.exe\n"
"        --old-datadir \"C:/Program Files/PostgreSQL/8.4/data\"\n"
"        --new-datadir \"C:/Program Files/PostgreSQL/9.0/data\"\n"
"        --old-bindir \"C:/Program Files/PostgreSQL/8.4/bin\"\n"
"        --new-bindir \"C:/Program Files/PostgreSQL/9.0/bin\""
msgstr ""
"pg_upgrade.exe\n"
"        --old-datadir \"C:/Program Files/PostgreSQL/8.4/data\"\n"
"        --new-datadir \"C:/Program Files/PostgreSQL/9.0/data\"\n"
"        --old-bindir \"C:/Program Files/PostgreSQL/8.4/bin\"\n"
"        --new-bindir \"C:/Program Files/PostgreSQL/9.0/bin\""

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:417(para)
msgid ""
"If you have Streaming Replication (see <xref linkend=\"streaming-replication"
"\"/>) or Log-Shipping (see <xref linkend=\"warm-standby\"/>) standby "
"servers, follow these steps to upgrade them. You will not be running "
"<application>pg_upgrade</application> on the standby servers, but rather "
"<application>rsync</application>. Do not start any servers yet."
msgstr ""
"Если вы используете серверы резерва с потоковой репликацией (см. <xref remap="
"\"4\" linkend=\"streaming-replication\"/>) или трансляцией журнала (см. "
"<xref remap=\"4\" linkend=\"warm-standby\"/>), обновите их, выполнив "
"следующие действия. На серверах резерва нужно будет запускать не "
"<application>pg_upgrade</application>, а <application>rsync</application>. "
"Не запускайте никакие серверы на этом этапе."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:440(para)
msgid ""
"Make sure the new standby data directories do <emphasis>not</emphasis> exist "
"or are empty. If <application>initdb</application> was run, delete the "
"standby server data directories."
msgstr ""
"Новые каталоги данных резерва должны <emphasis>отсутствовать</emphasis> либо "
"быть пустыми. Если запускалась программа <application>initdb</application>, "
"удалите каталоги данных резервных серверов."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:450(para)
msgid ""
"Install the same custom shared object files on the new standbys that you "
"installed in the new master cluster."
msgstr ""
"Установите на новых резервных серверах те же дополнительные разделяемые "
"объектные файлы, что вы установили в новом ведущем кластере."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:468(para)
msgid ""
"Save any configuration files from the standbys you need to keep, e.g. "
"<filename>postgresql.conf</filename>, <literal>recovery.conf</literal>, as "
"these will be overwritten or removed in the next step."
msgstr ""
"Сохраните все нужные вам файлы конфигурации с резервных серверов, в "
"частности <filename>postgresql.conf</filename> и <literal>recovery.conf</"
"literal>, так как они будут перезаписаны или удалены на следующем этапе."

#. +> REL9_6_3
#: ref/pgupgrade.xml:476(title)
msgid "Start and stop the new master cluster"
msgstr "Запустите и остановите новый ведущий кластер"

#. +> REL9_6_3
#: ref/pgupgrade.xml:478(para)
msgid ""
"In the new master cluster, change <varname>wal_level</varname> to "
"<literal>replica</literal> in the <filename>postgresql.conf</filename> file "
"and then start and stop the cluster."
msgstr ""
"В новом главном кластере измените <varname>wal_level</varname> на "
"<literal>replica</literal> в <filename>postgresql.conf</filename> и "
"запустите, а затем остановите кластер."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:492(programlisting)
#, no-wrap
msgid "rsync --archive --delete --hard-links --size-only old_pgdata new_pgdata remote_dir"
msgstr "rsync --archive --delete --hard-links --size-only old_pgdata new_pgdata remote_dir"

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:488(para)
msgid ""
"From a directory that is above the old and new database cluster directories, "
"run this for each slave: <placeholder-1/> where <option>old_pgdata</option> "
"and <option>new_pgdata</option> are relative to the current directory, and "
"<option>remote_dir</option> is <emphasis>above</emphasis> the old and new "
"cluster directories on the standby server. The old and new relative cluster "
"paths must match on the master and standby server. Consult the "
"<application>rsync</application> manual page for details on specifying the "
"remote directory, e.g. <literal>standbyhost:/opt/PostgreSQL/</literal>. "
"<application>rsync</application> will be fast when <application>pg_upgrade</"
"application>'s <option>--link</option> mode is used because it will create "
"hard links on the remote server rather than transferring user data. "
"Unfortunately, <application>rsync</application> needlessly copies the files "
"associated with temporary and unlogged tables."
msgstr ""
"В каталоге, внутри которого находятся каталоги старого и нового кластера, "
"для каждого ведомого сервера выполните: <placeholder-1/> Здесь каталоги "
"<option>old_pgdata</option> и <option>new_pgdata</option> задаются "
"относительно текущего каталога, а <option>remote_dir</option> находится "
"<emphasis>над</emphasis> каталогами старого и нового кластера на резервном "
"сервере. Относительные пути старого и нового кластера на главном и резервном "
"сервере должны совпадать. Обратитесь к странице руководства "
"<application>rsync</application> за подробным описанием указания удалённого "
"каталога, например в виде <literal>standbyhost:/opt/PostgreSQL/</literal>. "
"Операция <application>rsync</application> выполнится быстро, когда "
"<application>pg_upgrade</application> запускается в режиме <option>--link</"
"option>, так как при этом вместо передачи пользовательских данных будут "
"созданы жёсткие ссылки на удалённый сервер. К сожалению, <application>rsync</"
"application> при этом будет бессмысленно копировать и файлы, связанные с "
"временными и нежурналируемыми таблицами."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:510(para)
msgid ""
"If you have tablespaces, you will need to run a similar <application>rsync</"
"application> command for each tablespace directory. If you have relocated "
"<filename>pg_xlog</filename> outside the data directories, "
"<application>rsync</application> must be run on those directories too."
msgstr ""
"Если у вас есть табличные пространства, вам потребуется выполнить подобную "
"команду <application>rsync</application> для каталогов всех табличных "
"пространств. Если вы вынесли <filename>pg_xlog</filename> за пределы "
"каталогов данных, нужно будет запустить <application>rsync</application> и "
"для этих каталогов."

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:521(para)
msgid ""
"Configure the servers for log shipping. (You do not need to run "
"<function>pg_start_backup()</function> and <function>pg_stop_backup()</"
"function> or take a file system backup as the slaves are still synchronized "
"with the master.)"
msgstr ""
"Настройте серверы для трансляции журнала. (Запускать "
"<function>pg_start_backup()</function> и <function>pg_stop_backup()</"
"function> или делать копию файловой системы не нужно, так как ведомые "
"серверы остаются синхронизированными с ведущим.)"

#. +> REL9_6_3 REL9_6
#: ref/pgupgrade.xml:562(programlisting)
#, no-wrap
msgid "psql --username postgres --file script.sql postgres"
msgstr "psql --username postgres --file script.sql postgres"

#. +> REL9_6
#: ref/pgupgrade.xml:333(para)
msgid ""
"Also, if upgrading standby servers, change <varname>wal_level</varname> to "
"<literal>replica</literal> in the <filename>postgresql.conf</filename> file "
"on the new master cluster."
msgstr ""
"Также при обновлении резервных серверов измените <varname>wal_level</"
"varname> на <literal>replica</literal> в файле <filename>postgresql.conf</"
"filename> нового основного кластера."
