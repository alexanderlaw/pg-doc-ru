diff -u -r -N pology-0.12.ori/lang/ru/rules/all.rules pology-0.12/lang/ru/rules/all.rules
--- pology-0.12.ori/lang/ru/rules/all.rules	2016-05-26 07:35:51.316767762 +0300
+++ pology-0.12/lang/ru/rules/all.rules	2016-11-24 17:22:54.744141540 +0300
@@ -22,6 +22,9 @@
 [медиа-[а-я]]i
 hint="-> Слова медиа... пишутся слитно"
 
+[спец-[а-я]]i
+hint="-> Слова спец... пишутся слитно"
+
 [аудио файл]i
 hint="-> Слова аудио... пишутся слитно"
 
@@ -38,7 +41,7 @@
 valid msgstr="^Сопровождающий$"
 hint="Maintainer -- Сопровождающий"
 
-[&[a-zA-Z]]
+[---&(?=[a-zA-Z])] # Акселераторов в тексте нет
 valid before="[a-z]*="
 valid before="(nbsp|amp|reg|lt|gt|quot|deg|ge|ndash|copy|auml|mdash);"
 valid msgid="Drag&Drop"
@@ -56,6 +59,7 @@
 hint="Уберите пробел на конце строки"
 
 [^ ]
+id="leading-space"
 valid msgid="^ "
 hint="Уберите пробел в начале строки"
 
@@ -67,16 +71,21 @@
 #hint="После двоеточия должна быть строчная буква"
 
 [  ]
+id="double-space"
 valid msgid="  "
+valid srcref="\(programlisting\)"
+valid srcref="\(synopsis\)"
+valid after="<synopsis.*" before=".*?</synopsis"
+valid after="<screen.*" before=".*?</screen"
 hint="Уберите двойной пробел" # FIXME: not for docs!
 
-[колон(к|ок)]i
+[-- колон(к|ок)]i # TODO: Этим нужно заниматься дополнительно, а пока игнорировать
 hint="column -- столбец"
 
 [в течении]i
 hint="«в течении» -- разве что «в течении реки»"
 
-[перезаписать]i
+[-- перезаписать]i # LAW: не всегда ("в зависимости от параметра может потребоваться перезаписать таблицы...")
 hint="«overwrite» переводится как «заменить»"
 
 [настройки]i
@@ -84,39 +93,40 @@
 valid after="средства "
 valid after="кнопку "
 valid after="при ошибке установки или "
-valid after="мастера "
+valid after="мастер(а)? "
 valid after="Центр "
 valid after="утилиты "
 valid after="возможность "
 valid after="изменения "
 valid after="Программа "
 valid after="программу "
-valid after="окне "
-valid after="окно "
-valid after="окна "
-valid after="файл "
+valid after="окн[аое] "
+valid after="файл(е|ов)? "
 valid after="вашей "
-valid after="параметры "
 valid after="сценарий "
 valid after="ошибка "
-valid after="диалога "
-valid after="диалог "
-valid after="модуля "
-valid after="модуле "
+valid after="диалог(а|е)? "
 valid after="возможности "
-valid after="модуль "
-valid after="модули "
+valid after="модул(e|и|ь|я) "
 valid after="для "
-valid after="мастер "
 valid after="неправильной "
 valid after="быстрой "
 valid after="автоматической "
-valid after="диалоге "
-valid after="параметрах "
-valid after="файле "
+valid after="параметр(а|ах|ы)? "
 valid after="завершения "
 valid after="экрана "
 valid after="модулям "
+valid after="аспектов "
+valid after="обслуживания (и|или) "
+valid after="правило "
+valid after="правильности "
+valid after="дополнительной "
+valid after="начальной "
+valid after="упрощения "
+valid after="процедура "
+valid after="Функция "
+valid after="способ(а|ы) "
+valid after="время "
 hint="There's no such plural form 'настройки', use 'параметры' or something else. If you see this message but there is only 'настройки' as the genitive case of 'настройка', please, report it."
 
 [настройках]i
@@ -146,7 +156,7 @@
 [знач[её]к]i
 hint="орфография"
 
-[горяч]i
+[-- горяч]i # У нас это ещё и горячий резерв
 hint="keyboard shortcut, hotkey -- комбинация клавиш"
 
 [ярлык]i
@@ -155,6 +165,10 @@
 
 [скач]i
 valid after="^Са"
+valid after="\bрезк[а-я]+\s"
+valid after="временн[а-я]+\s"
+valid after="сгладить "
+valid before="ков"
 hint="не используем слова скачивать, скачивание и т.д."
 
 [рассклад]i
@@ -175,14 +189,35 @@
 [пл[еэ]йл]i
 hint="playlist -- список воспроизведения"
 
-[e-?mail]i
+[e-?mail\b]i
 valid msgid="%EMAIL"
 valid before=">"
 valid before="\">"
 valid after="=&"
 valid after="googl" before="\.com"
+valid after="<screen.*" before=".*?</screen"
+valid after="@" before="\."
+valid srcref="\(literal\)"
+valid srcref="\(programlisting\)"
+valid after="<literal.*" before=".*?</literal>"
 hint="слово email нужно переводить"
 
+[\bfork]i
+valid srcref="\(parameter\)" msgid="^fork$"
+valid after="<parameter[^>]*>" before=".*?</parameter>"
+valid srcref="\(function\)"
+valid srcref="\(synopsis\)"
+valid before="\("
+valid before="Number"
+valid before="NUM"
+hint="слово fork нужно переводить"
+
+#[filenode]i
+#valid after="_"
+#valid after="rel"
+#valid ctx="parameter"
+#hint="слово filenode нужно переводить"
+
 [не подписанн]i
 hint="'неподписанный' -- слитно (чаще всего)"
 
@@ -193,11 +228,14 @@
 #hint="В конце предложения должна быть точка."
 
 [,[а-я]]i
+id="space-after-comma"
 valid msgid="^Your names$"
 valid ctx="^X-KDE-Keywords$"
+valid after="<literal.*" before=".*?</literal"
 hint="После запятой должен быть пробел."
 
-[#]
+[#\s*(?=\d+)]
+id="hash-mark"
 valid after="C" # C# programming language
 valid after="&" # character code in HTML
 valid after="/" # in link in HTML code
@@ -215,6 +253,7 @@
 valid before="if" # C/C++ preprocessor
 valid before="endif" # C/C++ preprocessor
 valid before="else" # C/C++ preprocessor
+valid before="[0-9A-Fa-f]{6};"
 valid after=">" before="<" # inside of XML tag
 valid after="color:"
 valid after="color=\""
@@ -224,7 +263,13 @@
 valid msgid="New name #" msgstr="Объект #" cat="dolphin" # '#' is hardcoded in Dolphin
 valid msgid="\(# will be replaced by ascending numbers\)" msgstr="\(символ # будет заменён порядковым номером\)" cat="dolphin" # '#' is hardcoded in Dolphin
 valid msgstr="«#»" # FIXME: "before" or "after"?
-valid msgstr="^\*99#$"
+valid after="<screen.*" before=".*?</screen"
+valid after="<literallayout.*" before=".*?</literallayout"
+valid after="<literal.*" before=".*?</literal"
+valid srcref="\(literal\)"
+valid srcref="\(screen\)"
+valid srcref="\(programlisting\)"
+valid msgid="comment"
 hint="заменить на '№'?"
 
 [\bне не\b]i
@@ -259,6 +304,19 @@
 hint="shortcut -- комбинация клавиш"
 
 [superuser]i
+valid srcref="\(synopsis\)"
+valid srcref="\(literal\)"
+valid srcref="\(structfield\)"
+valid srcref="\(screen\)"
+valid after="<literal.*" before=".*?</literal"
+valid after="<computeroutput.*" before=".*?</computeroutput"
+valid after="is_"
+valid before="_reserved_connections"
+valid after="<quote>" before="</quote>"
+valid after="<varname>" before="</varname>"
+valid after="guc-"
+valid after="--"
+valid after="--no-"
 hint="superuser нужно перевести"
 
 [\bклик]i
@@ -280,7 +338,7 @@
 [проверьте вашу установку]i
 hint="не по-русски"
 
-[\bok\b]i
+[-- bok\b]i # Не перевод GUI -- не актуально
 hint="Ok -> ОК (русскими буквами)"
 
 [[а-яіїѣѳўє][a-z]]i
@@ -291,12 +349,19 @@
 hint="Рядом стоят латинская и кириллическая буквы"
 
 [\(c\)]i
+valid srcref="\(programlisting\)"
+valid msgstr="\(a\)"
+valid msgstr="\(b\)"
 hint="Используйте специальный символ ©"
 
 [copyright]i
+id="copyright"
+valid srcref="\(literal\)"
+valid srcref="\(programlisting\)"
 hint="Используйте специальный символ ©"
 
 [\bне могу\b]i
+valid after="<quote.*" before=".*?</quote"
 hint="-> 'не удалось'"
 
 [mime]i
@@ -314,12 +379,21 @@
 
 [;']
 valid after="[0-9]px" # example: <h2 style='margin-top: 0px;'>
+valid after="(&zwsp|&nbsp|&gt|&amp)"
+valid after="<screen.*" before=".*?</screen"
+valid after="<literal.*" before=".*?</literal"
+valid srcref="\(programlisting\)"
+valid srcref="\(screen\)"
 hint="Не стоит изобретать падежи у несклоняемых названий"
 
-[ ,]
+[\s,]
+valid after="<synopsis.*" before=".*?</synopsis"
+valid msgstr="<placeholder-1/> <placeholder-2/> ,"
+valid srcref="\(synopsis\)"
+valid srcref="\(programlisting\)"
 hint="Уберите пробел перед запятой"
 
-[\.[а-я]]i
+[-- \.[а-я]]i # Некорректное правило
 valid after="и т" span="д" before="\." # "и т.д." # некоторые говорят, что "и т.д." нужно писать полностью ("и так далее")
 valid after="и т" span="п" before="\." # "и т.п."
 valid after="т" span="к" before="\." # "т.к."
@@ -329,7 +403,21 @@
 valid after="дюймов рт" span="с" before="т\." # дюймов рт.ст.
 valid after="дюймы рт" span="с" before="т\." # дюймы рт.ст.
 valid after="\.\." span="\.ч" before="то"
+
+[\.(?=[а-я])]i
+id="no-space-after-period"
 valid after="@\*" # маска пользователя в Konversation
+valid srcref="\(programlisting\)"
+valid after="имя_таблицы" before="имя_столбца"
+valid after="схема" before="таблица"
+valid after="схема" before="функция\(таблица\)"
+valid after="\*" before="таблица"
+valid after="отношение" before="атрибут"
+valid after="таблица" before="атрибут"
+valid after="табл1" before="атр1"
+valid after="табл2" before="атр2"
+valid after="аргумент" before="поле"
+valid after="\$1" before="поле"
 hint="Поставьте пробел после точки в конце предложения"
 
 [директори]i
@@ -339,6 +427,7 @@
 hint="не используем слово 'пиктограмма'"
 
 [обозревател]i
+id="browser-browser"
 hint="обозреватель [Интернета] -> веб-браузер"
 
 [опц]i
@@ -358,8 +447,9 @@
 hint="artist -- исполнитель"
 
 [x ?%]i
-valid after=" 0" # hex number
-hint="используйте специальных символ «×»"
+valid after="\b0" # hex number
+valid after="<screen.*" before=".*?</screen"
+hint="используйте специальный символ «×»"
 
 [bpp]i
 hint="нужно переводить"
@@ -388,7 +478,12 @@
 hint="В кнопке 'Отмена' акселератор ставьте на 'т'"
 
 [ \.\.\.$]
-hint="В командах меню перед многоточием не ставьте пробел."
+id="space-before-ellipsis"
+valid srcref="\(optional\)" msgid=" \.\.\.$"
+valid srcref="\(literal\)" msgid=" \.\.\.$"
+valid srcref="\(programlisting\)" msgid=" \.\.\.$"
+valid after=","
+hint="Перед многоточием не ставьте пробел."
 
 [«спам]i
 hint="'спам' должно быть без кавычек"
@@ -408,7 +503,7 @@
 [не високосн]i
 hint="'невисокосный' пишется слитно"
 
-[ввиду]i
+[ввиду,? что\b]i
 hint="В контексте 'Имейте в виду, что ...', 'в виду' пишется раздельно. "
 
 [выберете]i
@@ -416,11 +511,12 @@
 hint="В повелительном наклонении должно быть 'выберите'"
 
 [параграф]i
+valid msgid="paragraph and the following two paragraphs appear in all copies"
 valid !msgid="paragraph"
 hint="paragraph -- абзац"
 
 [рассыл]i
-valid !msgid="distrib"
+valid !msgid="distribution\s+list"
 hint="Список рассылки -- это 'mailing list'. Distribution list -- это другое."
 
 [провер]i
@@ -428,7 +524,7 @@
 hint="'checkout' в контексте систем управления версиями -- извлечение из репозитория, переход на ревизию или смена ветки"
 
 # ошибки: "при завершение", "при чтение", "при использование", "при выполнение", ...
-[при [а-я]+ие]i
+[при [а-я]+ние]i
 hint="неправильное использование падежей"
 
 #[[a-z]-[а-я]]i
@@ -438,32 +534,59 @@
 [на брауз]i
 hint="на браузерах -> в браузерах"
 
-[(Вам|Вы|Ваш|Вашей)\b]
+[(?<!^)(Вам|Вы|Ваш|Вашей)\b]
+valid after="\("
+valid after="--\s+"
 valid after="\.\s+"
-valid after="<[a-z]+>"
+valid after="&laquo;"
+valid after="\.\)\s+"
+valid after="<[a-z\-_0-9/]+>\s*"
 hint="Пишем 'вы' со строчной буквы."
 
-[отображ]i
+[-- отображ]i # Неактуальное правило, у нас есть перевод "map" -> "отображать"
 hint="Избегаем использования слова 'отображать' и однокоренных в смысле показа чего-либо на экране, вместо этого пишем 'показывать'"
 
 [иметь эффект]i
 hint="takes effect -> вступает в силу"
 
-[[^\.]\. [а-я]]
-valid after="э" span="л. п" before="очты" # частое сокращение "эл. почты"
+[(?<=[^\.])\.\s(?=[а-я])]
+id="capital-letter-first"
+valid after="эл" before="почты" # частое сокращение "эл. почты"
+valid after="\b[сС]м"
+valid after="\bсек"
+valid after="[0-9]+ г"
+valid after="[тТ]. к"
+valid after="[тТ]" before="к."
+valid after="\bи т. д"
+valid after="\bи т" before="д\."
+valid after="\bи т. п"
+valid after="\bи т" before="п\."
+valid after="\bн. э"
+valid after="\bн" before="э\."
+valid after="[тТ]. е"
+valid after="\b[тТ]" before="е\."
+valid after="\bмат" before="представлен"
+valid after="\b[Тт]абл" before="пространств"
+valid after="в стиле #"
+valid after="[Мм]ин"
+valid after="[Мм]акс"
 hint="Предложения пишутся с заглавной буквы"
 
 [на строке]
 hint="-> в строке"
 
+[на таблице]
+hint="-> в таблице"
+
+
 # Some people "invented" separating keywords by semicolons, find them
 [[^а-яёa-z0-9\ ,«»\-\/\+]]i
 valid !ctx="^X-KDE-Keywords$"
 hint="X-KDE-Keywords should contain words separated by commas"
 
-[\!\s]
+[-- \!\s] # В нашей документации допустимо
 hint="Восклицания допустимы только в играх и программах для детей"
-[\!$]
+[-- \!$] # В нашей документации допустимо
 hint="Восклицания допустимы только в играх и программах для детей"
 
 [конверти]i
@@ -488,9 +611,10 @@
 #   градуса, минуты и секунды от цифр не отбивают. Знак °С отбивают, как и
 #   другие обозначения единиц физ. величин, на 2 п.
 # 2. http://habrahabr.ru/post/23250/
-[%.%]
+[-- %.%] # LAW: https://ru.wikipedia.org/wiki/Википедия:Отбивка_знака_процента_от_предшествующей_цифры
 hint="Знак процента отделяют от числа коротким пробелом (каким именно -- читайте на l10n.lrn.ru)"
-[[0-9]%]
+
+[-- [0-9]%] # LAW: https://ru.wikipedia.org/wiki/Википедия:Отбивка_знака_процента_от_предшествующей_цифры
 hint="Знак процента отделяют от числа коротким пробелом (каким именно -- читайте на l10n.lrn.ru)"
 
 # http://lists.kde.ru/pipermail/kde-russian/2008-July/012291.html
@@ -499,8 +623,15 @@
 
 # posieve find-messages -snmsgid:'\n' -smsgstr:'\n' -snmsgctxt:'(qtundo-format)' --skip-obsolete -snflag:fuzzy *.po
 [\n]
+id="no-magic-split"
 valid msgid="\n"
 valid ctx="(qtundo-format)"
+valid after="<screen.*" before=".*?</screen"
+valid srcref="\(programlisting\)"
+valid srcref="\(synopsis\)"
+valid after="<synopsis.*" before=".*?</synopsis"
+valid srcref="\(screen\)"
+valid srcref="\(entry\)"
 hint="No '(qtundo-format)' in context string, hence magic split is not available"
 
 # https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BB%D0%B0%D1%8F%D0%BB%D0%B0%D0%BC_(%D0%BF%D0%B8%D1%81%D1%8C%D0%BC%D0%BE)
@@ -513,3 +644,287 @@
 
 # TBD: название программы "Параметры системы" склоняется? Например: "в Параметрах системы"?
 
+
+[::]
+id="double-colons"
+valid before="(&zwsp;)?[a-zA-Z]"
+valid before="(/)?[0-9]"
+valid before="<replaceable"
+valid msgid="^::$"
+valid before="</(literal|primary)"
+valid srcref="\(programlisting\)"
+valid after="<screen.*" before=".*?</screen"
+valid env="rst"
+hint="Двойные двоеточия"
+
+[(?<=[а-я\.])\(]i
+id="no-space-before-parentheses"
+valid before="(а|и|ы|ов|ам|ей|ами|я|ым|й)\)"
+valid before="(Y|M|D)\)"
+valid after="имя-функции"
+valid after="функция_массив"
+valid after="функция_кортеж"
+valid after="схема\.функция"
+valid after="атрибут" before="таблица"
+hint="Не хватает пробела перед скобкой."
+
+[>[а-я]]i
+id="docbook-ru1"
+environment docbook
+valid after="<(replaceable|parameter|type|optional|guimenu|guisubmenu|guimenuitem)[^>]*"
+valid after="<(quote|citetitle)"
+valid after="<(firstterm|acronym|foreignphrase)"
+valid after="<lineannotation"
+valid after="<emphasis"
+valid after="<see"
+valid after="<seealso"
+valid after="<remark"
+valid after="<(primary|secondary|tertiary)[^>]*"
+valid after="<(link|ulink)[^>]+"
+valid after="<literal[^>]*"
+valid after="<(structname|varname|structfield)"
+valid after="<(screen|computeroutput)[^>]*"
+valid after="<application[^>]*"
+valid after="<phrase[^>]*"
+valid after="<emphasis[^>]*"
+valid after="<placeholder-[0-9]+/"
+valid after="</screen"
+valid after="</synopsis"
+hint="Не хватает пробела или неправильный тег."
+
+# <emphasis> долю </emphasis>
+ 
+[[а-я]<(?=[a-z])]i
+id="docbook-ru2"
+environment docbook
+valid before="placeholder-1/>$" # предполагается, что в placeholder-1 сидит тег primary
+valid before="placeholder-1/>," # предполагается, что в placeholder-1 сидит тег primary
+valid before="phrase condition"
+hint="Не хватает пробела или неправильный тег."
+
+[[а-я]\.\.($|[^.])]
+hint="Две точки."
+
+[[а-я>] \.(?=$|[^.])]
+id="space-before-period"
+valid after="<synopsis.*" before=".*?</synopsis"
+valid before="NET"
+valid before="pgpass"
+valid before="psqlrc"
+valid before="c\b"
+hint="Пробел перед точкой."
+
+[\.\s\([а-я]]
+valid after=" и т. д"
+hint="Не нужна точка или предложение в скобках должно быть с большой буквы."
+
+
+[\s:(?=$|[^:^=])]
+valid after="<synopsis.*" before=".*?</synopsis"
+valid after="<screen.*" before=".*?</screen"
+valid after="<literal.*" before=".*?</literal"
+valid msgstr="<placeholder-1/> <placeholder-2/> ,"
+valid srcref="\(synopsis\)"
+valid srcref="\(literal\)"
+valid srcref="\(screen\)"
+valid srcref="\(programlisting\)"
+valid after="set"
+valid before="ref:" env="rst"
+valid before="file:" env="rst"
+hint="Уберите пробел перед двоеточием"
+
+#[[а-яА-Я]] # Пока не критично - требует исправления и оригинала
+#valid !srcref="\(literal\)"
+#hint="Переводить содержимое literal не надо."
+
+[/ >]
+hint="Пробел в закрывающемся теге."
+
+[\bor\b]
+valid after="<screen.*" before=".*?</screen"
+valid after="<computeroutput.*" before=".*?</computeroutput"
+valid srcref="\(programlisting\)"
+hint="Слово or надо переводить."
+
+[\bпо\s[а-я]+му(?=$|\.|,)]i
+valid span="по одному"
+valid span="по нему"
+valid span="по всему"
+hint="Должно быть 'по-...'?"
+
+[, и т\. д\.]
+hint="Запятая перед 'и т. д.'"
+
+[и\s?тд\.]
+hint="Должно быть 'и т. д.'"
+
+[в\sпоследствии]i
+hint="Должно быть 'впоследствии'"
+
+[ --? ]
+id="mdash-required"
+valid srcref="/pgscript\.rst"
+valid srcref="\(programlisting\)"
+valid srcref="\(literal\)"
+valid srcref="\(programlisting\)"
+valid srcref="\(screen\)"
+valid after="<literal.*" before=".*?</literal"
+valid after="<screen.*" before=".*?</screen"
+valid after="<synopsis.*" before=".*?</synopsis"
+valid after="<quote.*" before=".*?</quote"
+valid before="[0-9]"
+valid before="<replaceable>delta"
+hint="Должно быть тире (&mdash;)."
+
+[здесь(:)? <xref]i
+hint="Надо заменить на 'в <xref...' или что-то подобное."
+
+[смотри\b]i
+hint="Должно быть см. или смотрите."
+
+[\sв\s<xref(?![^>]+remap=\s*"6").*?/>]i # Предложный падёж
+valid !after="(\
+говорилось|\
+дано|\
+найти|\
+об этом|\
+обзору|\
+обсуждается|\
+обсуждалось|\
+объясняется|\
+описан|\
+описана|\
+описание|\
+описанная|\
+описанному|\
+описанные|\
+описано|\
+описаны|\
+описывалось|\
+описываются|\
+определяется|\
+перечислены|\
+подробнее|\
+подробно|\
+подробности|\
+показан|\
+показано|\
+представлен|\
+приведена|\
+приведено|\
+приведены|\
+приведённым|\
+приведённому|\
+пример|\
+рассказывается|\
+рассматривается|\
+рассмотренным|\
+рассмотрены|\
+сказано|\
+увидеть|\
+упомянуты выше\
+)"
+hint="Не хватает правильного падежа во фразе \"в <xref\" (должен быть remap=\"6\"?)."
+
+[\sк\s<xref(?![^>]+remap=\s*"3").*?/>]i # Дательный падёж
+hint="Не хватает правильного падежа во фразе \"к <xref\" (должен быть remap=\"3\"?)."
+
+[\bсм\.\s<xref(?![^>]+remap=\s*"4").*?/>]i # Винительный падёж
+hint="Не хватает правильного падежа во фразе \"см. <xref\" (должен быть remap=\"4\"?)."
+
+[\bсм\.\sв\s]i
+hint="Надо заменить 'см. в' на 'описано в' или что-то подобное."
+
+[информация (появится|находится) в]i
+hint="Надо заменить на '... описано в/За подробностями обратитесь к ' или что-то подобное."
+
+[\bIP(</[a-z]+>)?\s(адрес|соединен|подключен)]i
+hint="IP — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bIPv[46](</[a-z]+>)?\s(адрес|соединен)]i
+hint="IPv4, IPv6 — не прилагательные, надо писать через дефис или перефразировать."
+
+[TCP(</[a-z]+>)?\s(порт)]i
+hint="TCP — не прилагательное, надо писать через дефис или перефразировать."
+
+[ident(</[a-z]+>)?\s(аутентифик|сервер)]i
+hint="ident — не прилагательное, надо писать через дефис или перефразировать."
+
+[peer(</[a-z]+>)?\s(аутентифик)]i
+hint="peer — не прилагательное, надо писать через дефис или перефразировать."
+
+[LDAP(</[a-z]+>)?\s(аутентифик|сервер|подключен|URL)]i
+hint="LDAP — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bRADIUS(</[a-z]+>)?\s(сервер|аутентифик)]i
+hint="RADIUS — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bURL(</[a-z]+>)?\s(схема)]i
+hint="URL — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bUnix(</[a-z]+>)?\s(систем|сервер|сокет|утилит|домен)]i
+hint="Unix — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bSQL(</[a-z]+>)?\s(скрипт|оператор|команд|объект|запрос)]i
+valid after="соответствующей стандарту "
+valid after="В стандарте "
+valid after="В " span="SQL запрос" before="ы"
+hint="SQL — не прилагательное, надо писать через дефис или перефразировать."
+
+[pgSQL(</[a-z]+>)?\s(скрипт|оператор|команд|объект|функц|переменн)]i
+hint="pgSQL — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bDDL(</[a-z]+>)?\s(оператор|команд|объект)]i
+hint="DDL — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bWAL(</[a-z]+>)?\s(файл|архив|запис|сегмент|лог|данн)]i
+valid span="WAL запис" before="(ан|ы)"
+valid span="WAL запис" after="в " before="(ей)"
+valid span="WAL архив" before="(ир)"
+hint="WAL — не прилагательное, надо писать через дефис или перефразировать."
+
+[\bTOAST(</[a-z]+>)?\s(табл|столб)]i
+hint="TOAST — не прилагательное, надо писать через дефис или перефразировать."
+
+
+#TODO: [<(primary|secondary|tertiary)>\s*[a-z]]i
+# hint="Термин для индекса надо переводить."
+
+[(?<!,)\s+чтобы]
+valid after=";"
+valid after=":"
+valid after="—"
+valid after="(а|А|но|то|и|И)"
+valid after="(просто|только)"
+valid after="([Дд]ля того|[Вв]место того|с тем)"
+hint="Запятая перед 'чтобы ...'"
+
+[\bsee\b]i
+valid after="<" before=">"
+valid after="</" before=">"
+hint="See надо переводить"
+
+[\b([а-яА-Я]+)\s(\1)(\b)[^-]]
+hint="Повтор слова."
+
+# [<literal[^>]*>[^<]*?[а-яА-Я][^<]*</literal>]  # -- не готово для повсеместного использования
+# hint="Содержимое тега literal переводить не надо."
+
+# [[а-яА-Я]] # -- не готово для повсеместного использования
+# valid !srcref="\(literal\)"
+# hint="Содержимое тега literal переводить не надо."
+
+# [\)[а-яА-Я]] # Требуется уточнить правило для постоянного включения
+# hint="Нет пробела после скобки."
+
+
+# [\sand\s] # Требуется уточнить правило для постоянного включения
+# hint="Не переведено and."
+
+# [\b[tT]he\s] # Требуется уточнить правило для постоянного включения
+# hint="Не переведено the."
+
+# [\bfor\s] # Требуется уточнить правило для постоянного включения
+# hint="Не переведено for."
+
+# TODO: поменять <quote>...</quote> на &laquo;...&raquo;, чтобы были кавычки-ёлочки?
diff -u -r -N pology-0.12.ori/lang/ru/rules/letter-yo.rules pology-0.12/lang/ru/rules/letter-yo.rules
--- pology-0.12.ori/lang/ru/rules/letter-yo.rules	2016-05-26 07:35:51.304768164 +0300
+++ pology-0.12/lang/ru/rules/letter-yo.rules	2016-10-12 12:05:41.530077511 +0300
@@ -13,6 +13,13 @@
 valid before="и"
 hint="Буква ё"
 
+[заключен]i
+valid before="а"
+valid before="ы"
+valid before="о"
+valid before="и"
+hint="Буква ё"
+
 [отключен]i
 valid before="а"
 valid before="ы"
@@ -34,16 +41,43 @@
 valid before="и"
 hint="Буква ё"
 
-[учетн]i
+[чет]i
+valid after="хо"
+valid after="со"
+valid after="с" before="[ао]"
+valid after="[Вв]ы"
+valid before="в[её]р"
+valid before="ыр"
 hint="Буква ё"
 
 [ведет]i
+valid after="[Вв]ы" before="\s"
+hint="Буква ё"
+
+[дает]i
+valid after="па"
+valid after="блю"
+valid after="обла"
+valid after="рож"
+valid after="преж"
+valid after="ожи"
+valid after="суж"
+valid after="тверж"
+valid after="вреж"
+valid after="бож"
+valid after="вож"
+valid after="беж"
+valid after="нуж"
+valid after="стра"
 hint="Буква ё"
 
 [звезд[ н]]i
 hint="Буква ё"
 
-[ ee]i # how to make this more common (add a \b in the beginning?)
+[\bее\b]i
+hint="Буква ё"
+
+[\bнее\b]
 hint="Буква ё"
 
 [щелкните]i
@@ -52,12 +86,198 @@
 [\bнем\b]
 hint="Буква ё"
 
-[\bотклонен\b]i
+[\bеще\b]i
+hint="Буква ё"
+
+[клоненн]i
+hint="Буква ё"
+
+[клонен\b]i
+valid="с"
+hint="Буква ё"
+
+[несенн]i
+valid after="[Вв]ы"
+hint="Буква ё"
+
+[несен\b]i
+valid after="[Вв]ы"
+hint="Буква ё"
+
+[ъем]i
+valid before="лем"
+valid before="лющ"
+hint="Буква ё"
+
+[жестк]i
+hint="Буква ё"
+
+[\bимен\b]i
+hint="Буква ё"
+
+[\bсерьез]i
+hint="Буква ё"
+
+[веденн]
+valid after="[Вв]ы"
+hint="Буква ё"
+
+[веден\b]
+valid after="[Вв]ы"
+hint="Буква ё"
+
+[деленн]
+valid after="[Вв]ы"
+hint="Буква ё"
+
+[делен\b]
+valid after="[Вв]ы"
+hint="Буква ё"
+
+[даленн]
+hint="Буква ё"
+
+[дален\b]
+hint="Буква ё"
+
+[жденн]
+valid after="ну"
+hint="Буква ё"
+
+[жден\b]
+valid after="ну"
+hint="Буква ё"
+
+[жненн] # осложнённый
+hint="Буква ё"
+
+[жнен\b]
+hint="Буква ё"
+
+[ененн] # изменённый
+hint="Буква ё"
+
+[енен\b] # изменён
+valid after="бесц"
+hint="Буква ё"
+
+[епленн] # закрепленный
+hint="Буква ё"
+
+[еплен\b] # закреплен
+hint="Буква ё"
+
+[ещенн]
+hint="Буква ё"
+
+[ещен\b]
+hint="Буква ё"
+
+[еченн]
+valid after="м"
+valid after="пересв"
+hint="Буква ё"
+
+[ечен\b]
+valid after="м"
+valid after="бесп"
+valid after="в"
+hint="Буква ё"
+
+[ищенн] # защищённый
+valid after="Оч"
+valid after="оч"
+hint="Буква ё"
+
+[ищен\b]
+valid after="оч"
+hint="Буква ё"
+
+[ащенн] # сокращённый
+hint="Буква ё"
+
+[ащен\b] # сокращён
+hint="Буква ё"
+
+[аненн] # распространённый
+hint="Буква ё"
+
+[анен\b] # распространён
+hint="Буква ё"
+
+[верты] # развёртывание
+hint="Буква ё"
+
+[вернет]
+hint="Буква ё"
+
+[путем\b]
+hint="Буква ё"
+
+[надежн]
+hint="Буква ё"
+
+[дешев]
+valid before="ле"
+hint="Буква ё"
+
+[черки]
+hint="Буква ё"
+
+[ойдет\b]
+hint="Буква ё"
+
+[\bоберт]
+hint="Буква ё"
+
+[рвет]
+hint="Буква ё"
+
+[придет]
+hint="Буква ё"
+
+[чье]
+hint="Буква ё"
+
+[вершенн] # завершённый
+valid before="о\b"
+hint="Буква ё"
+
+[вершен\b] # завершён
+hint="Буква ё"
+
+[единенн] # соединённый
+hint="Буква ё"
+
+[единен\b]
+hint="Буква ё"
+
+[свое\b]
+hint="Буква ё"
+
+[угленн] # округлённо
+hint="Буква ё"
+
+[углен\b] # округлён
+hint="Буква ё"
+
+[ражен\b] # отображён
+hint="Буква ё"
+
+[раженн\b] # отображёный
+hint="Буква ё"
+
+[стает] # остаётся
+valid after="зра"
+hint="Буква ё"
+
+[берет]
+valid after="вы"
 hint="Буква ё"
 
-[\bудален\b]i
+[[зс]вернут[^ь]]
 hint="Буква ё"
 
-[\bперенесен\b]i
+[несет]
 hint="Буква ё"
 
diff -u -r -N pology-0.12.ori/lang/ru/spell/postgres.aspell pology-0.12/lang/ru/spell/postgres.aspell
--- pology-0.12.ori/lang/ru/spell/postgres.aspell	1970-01-01 03:00:00.000000000 +0300
+++ pology-0.12/lang/ru/spell/postgres.aspell	2016-11-24 18:41:12.313999560 +0300
@@ -0,0 +1,626 @@
+personal_ws-1.1 ru 0 UTF-8
+Автоанализ
+Автоотступ
+Агрегатор
+БО
+Восьмибитный
+Вуаля
+ГГГГММДД
+ГГММДД
+ДАЁТ
+Двустороннее
+Десериализует
+Запросник
+НЕСЁТ
+Нежурналируемое
+Нежурналируемый
+Нетипизированные
+ОРСУБД
+Одномерная
+Отбросовые
+Подтаблицы
+Портированы
+Просканированный
+РСУБД
+Самоссылающиеся
+Тбайт
+Триграмма
+УВЕДОМЛЁН
+ЦС
+ЧЧММ
+ЧЧММСС
+Южноавстралийского
+Юникод
+Юникода
+Юникоде
+автоанализ
+автоанализа
+автовыделении
+автовыделения
+автозагрузки
+автозагрузку
+автонастройка
+автообновляемыми
+автооткат
+автоотступа
+автоочистка
+автоочистке
+автоочистки
+автоочисткой
+автоочистку
+автоподключение
+автопрокрутки
+автосжатия
+автоувеличением
+автоувеличения
+автоувеличивающихся
+автофиксацией
+автофиксации
+автофиксацию
+автофиксация
+агрегатор
+агрегатора
+агрегировалась
+агрегировались
+агрегируются
+адаптирования
+амортизироваться
+атомарностью
+аутентификатор
+беззнакового
+беззнаковыми
+битностью
+булевого
+буферы
+версионирование
+версионирования
+версионности
+взаимоблокировка
+взаимоблокировке
+взаимоблокировки
+взаимоблокировку
+взаимоблокировок
+взаимозаменяем
+визуализировать
+визуализируется
+винтажных
+виртуализации
+воспроизводимости
+восьмибайтное
+восьмибайтном
+восьмибайтные
+восьмибайтных
+восьмибайтовые
+восьмибайтовых
+восьмизначной
+восьмизначные
+восьмисимвольном
+гиперссылки
+гипотезирующая
+гипотезирующего
+гипотезирующей
+гипотезирующие
+гипотезирующий
+гипотезирующими
+гипотезирующих
+двумерного
+двумерном
+двумерные
+двумерный
+двумерным
+двумерными
+двумерных
+двунаправленной
+двустороннего
+двусторонняя
+двухмерный
+двухмерным
+двухсимвольное
+двухфазного
+двухфазное
+двухфазной
+двухфазные
+двухфазный
+двухфазных
+декодироваться
+декодируется
+декодируются
+декомпиляции
+деконструированное
+демоверсия
+денормализация
+десериализации
+дефрагментации
+дефрагментация
+дефрагментирована
+дефрагментировать
+дефрагментируется
+диакритик
+дозаполнение
+журналировании
+журналируемая
+журналируемой
+журналируемую
+журналируемые
+журналируемыми
+заархивировалась
+заархивируется
+заархивируются
+заблокировался
+заблокироваться
+заблокируется
+заблокируются
+заворачивания
+загружаемости
+задействоваться
+задействуемого
+задействуемых
+задействуется
+задействуются
+задействующий
+задействующим
+задействуя
+закешированные
+замедленно
+запросник
+запросника
+запроснике
+запустились
+запустился
+запустится
+запуститься
+затормаживание
+затормаживания
+затребоваться
+затребуется
+зацикленности
+зацикливается
+зацикливались
+зацикливаний
+зацикливаться
+имитовставку
+инкапсулирующий
+интерполируя
+интрасети
+исследовалась
+исследуются
+категоризируются
+контрпримера
+контрпродуктивно
+криптомодули
+криптомодуля
+криптосоли
+локалью
+локалям
+локалями
+локалях
+масштабируемости
+масштабируемость
+матпредставление
+междоменная
+межтипового
+межтиповой
+межтиповые
+местозаполнителей
+местозаполнителем
+местозаполнители
+местозаполнитель
+местозаполнителями
+местозаполнителях
+метакоманд
+метакоманда
+метакомандами
+метакомандах
+метакоманде
+метакомандой
+метакоманду
+метакоманды
+метасимволов
+метасимволом
+метасимволы
+метасинтаксис
+метасинтаксиса
+метастраница
+метастраницах
+метастранице
+метафон
+метафона
+минидамп
+многоверсионного
+многоверсионное
+многоверсионности
+многоверсионность
+многопоточности
+многопоточность
+многопроцессных
+многосимвольное
+многосимвольные
+моделируется
+моделируются
+модифицироваться
+модифицируется
+модифицируются
+моноширинным
+мультитранзакции
+мультитранзакций
+мультитранзакция
+мультитранзакциях
+мультиязычный
+мьютексы
+неактивности
+неанонимного
+неархивированных
+неблокирующего
+неблокирующее
+неблокирующем
+неблокирующий
+неблокирующим
+неблокирующих
+неблокирующую
+небыстро
+негруппированную
+негруппированный
+негруппируемая
+негруппируемой
+негруппируемом
+негруппируемую
+негруппируемый
+негруппируемым
+недетерменированности
+недоверенного
+недоверенном
+недоверенную
+недоверенные
+недоверенный
+недоверенным
+недоверенными
+недоверенных
+недопустим
+нежадности
+нежадным
+нежурналируемая
+нежурналируемой
+нежурналируемую
+нежурналируемые
+нежурналируемым
+нежурналируемыми
+нежурналируемых
+незаархивированные
+незаархивированный
+незаблокированные
+незаблокированных
+неинтерактивно
+неинтуитивным
+неинтуитивных
+неконфликтующие
+неконфликтующих
+нелинейны
+нелокализуемой
+неоптимизированный
+неоптимизированных
+неоткладываемого
+неоткладываемое
+неоткладываемое
+неоткладываемой
+неоткладываемые
+неоткладываемый
+неотсечённую
+неотсечённый
+непараметризованный
+неперемещаемое
+неперемещаемых
+непересечения
+непредсказуема
+неприменим
+непримитивных
+неприхотлив
+несериализуемые
+несериализуемых
+нескалярными
+нескалярных
+несканируемом
+несовместим
+несортируемая
+несортируемому
+несортируемый
+несравниваемый
+нетипизированная
+нетипизированных
+нетранзакционное
+неудаляемых
+неудалённой
+обнулению
+одинаков
+одномерного
+одномерные
+одномерный
+одномерным
+одномерными
+одномерных
+однопоточной
+однострочной
+однострочном
+однострочный
+однотипно
+однотипными
+однотипных
+однотиповые
+однотиповый
+округлённо
+отбраковывании
+отбросовые
+отсканированы
+отфильтруются
+перезаписывались
+перезаписываться
+перезаписываются
+переиндексации
+переиндексацию
+переиндексация
+переиндексируется
+переинициализация
+переинициализировать
+перекомпиляции
+переконфигурировать
+переместительным
+переподключении
+переподключения
+переподключившись
+переподключится
+переподключиться
+перепроверяется
+перепроверялись
+перепроверяться
+пересборки
+пересвеченные
+пересоберите
+пересобирались
+пересобирать
+пересобрав
+пересобрать
+перестраивания
+перцентили
+перцентиль
+перцентилю
+перцентиля
+платформозависимая
+платформозависимыми
+платформозависимых
+подварианта
+поддиапазонов
+подзапрос
+подзапроса
+подзапросам
+подзапросами
+подзапросах
+подзапросе
+подзапросов
+подзапросом
+подзапросу
+подзапросы
+подкатегорий
+подключ
+подключа
+подключей
+подмассивы
+подпакета
+подплан
+подплана
+подпланом
+подпроцесс
+подпроцесса
+подпроцессом
+подпроцессы
+подпуть
+подредактировать
+подтаблицах
+подтранзакции
+подтранзакций
+подтранзакцию
+подтранзакция
+подтранзакциями
+подтранзакциях
+поинтереснее
+полпредложения
+полужирным
+портировании
+портирования
+портированный
+портировать
+портируемости
+портируемую
+портируемый
+портируемым
+портируется
+портируя
+постраничник
+постраничника
+постраничнике
+потокобезопасна
+потокобезопасная
+потокобезопасное
+потокобезопасной
+потокобезопасности
+потокобезопасные
+потокобезопасным
+потокобезопасными
+праводателем
+праводатель
+праводателя
+правополучатель
+предвыборки
+предзагружалась
+предзагрузка
+предкомпилятор
+предкомпилятором
+предобработки
+предсказуем
+преобразуемое
+преобразуемые
+преобразующая
+преобразующей
+преобразующие
+преобразующий
+преобразующими
+преобразующих
+преобразуя
+приемлем
+приемлю
+приоритетнее
+пролептический
+пролистывать
+просканировав
+просканировал
+просканирован
+просканирована
+просканированного
+просканированную
+просканированные
+просканированных
+просканировано
+просканированы
+просканирует
+прототипирования
+псевдобазе
+псевдоотношения
+псевдоотношениям
+псевдопараметры
+псевдороль
+псевдотип
+псевдотипа
+псевдотипами
+псевдотипов
+псевдотипом
+псевдотипы
+псевдоуникальный
+пятисимвольное
+пятисимвольные
+пятисимвольный
+разблокируется
+размечивания
+распараллелить
+расшифруются
+регистрозависимого
+регистрозависимое
+регистрозависимой
+регистрозависимы
+регистрозависимые
+регистрозависимым
+регистронезависимого
+регистронезависимое
+регистронезависимую
+регистронезависимый
+регистронезависимым
+регистронезависимыми
+репликаторов
+ресурсоёмких
+самоисключающим
+самоопределяемых
+самопересечением
+самоподписанного
+самоподписанный
+секционируется
+сериализация
+сериализованное
+сериализованный
+сериализовать
+сериализовываться
+сериализуемая
+сериализуемого
+сериализуемой
+сериализуемом
+сериализуемости
+сериализуемость
+сериализуемую
+сериализуемые
+сериализуемый
+сериализуемыми
+сериализуемых
+симссылки
+сканирований
+сканированиям
+сканированиях
+словосоставляющий
+словосоставляющих
+соптимизированы
+соптимизировать
+сортировались
+сортироваться
+сортируется
+сортируются
+спецкод
+спецкода
+спецкодами
+спецкодов
+спецкоды
+спецобласть
+спецобозначением
+спецобозначения
+спецпоследовательностей
+спецпоследовательности
+спецпоследовательность
+спецпоследовательностью
+спецпоследовательностями
+спецпоследовательностях
+спецстрок
+спецстрока
+спецстроках
+спецстроке
+спецстроки
+спецустройств
+спецфайле
+спонсировало
+стеммер
+стеммером
+стеммеру
+стеммеры
+стемминга
+суперпользователей
+суперпользователем
+суперпользователи
+суперпользователь
+суперпользователю
+суперпользователя
+суперпользователям
+сэкономится
+тестировщика
+типобезопасности
+типобезопасность
+типобезопасные
+триггер
+триггеры
+триграмм
+триграммами
+триграммы
+трём
+трёхзначного
+трёхзначное
+трёхкратное
+трёхсимвольное
+трёхуровневыми
+удобоварим
+ужесточатся
+урегулироваться
+фактологическим
+флагирование
+хешированное
+хешированные
+хешированный
+хешированных
+хешироваться
+хешируемые
+хешируется
+центральноевропейские
+центральноевропейских
+четырёхбайтное
+четырёхбайтового
+четырёхбайтовое
+четырёхбайтовым
+четырёхбайтовыми
+четырёхбайтовых
+четырёхзначного
+четырёхзначные
+шестизначной
+шестизначные
+южноевропейские
+языкозависимые
diff -u -r -N pology-0.12.ori/lang/ru/spell/postgres-names.aspell pology-0.12/lang/ru/spell/postgres-names.aspell
--- pology-0.12.ori/lang/ru/spell/postgres-names.aspell	1970-01-01 03:00:00.000000000 +0300
+++ pology-0.12/lang/ru/spell/postgres-names.aspell	2016-11-02 15:12:19.386415404 +0300
@@ -0,0 +1,25 @@
+personal_ws-1.1 ru 0 UTF-8
+Аргоннская
+Аргоннской
+Галисийский
+Евклидово
+Кодда
+Кормаком
+Криптоком
+Криптокоме
+Левенштейн
+Левенштейна
+Метлакалте
+Мэллори
+Пердью
+Постгрес
+Скалигера
+Тадхоуп
+Тридентского
+Уолли
+Фрайбергская
+Хангыль
+Хейуорд
+Хейуорде
+Хейуорду
+д'Арк
diff -u -r -N pology-0.12.ori/pology/markup.py pology-0.12/pology/markup.py
--- pology-0.12.ori/pology/markup.py	2016-05-26 07:35:49.264836668 +0300
+++ pology-0.12/pology/markup.py	2016-05-26 07:35:44.293003636 +0300
@@ -1417,7 +1417,7 @@
 
         if (   msg.msgctxt in ignctxt
             or msg.msgid in ignid
-            or (msg.msgctxt is not None and msg.msgctxt.startswith(ignctxt))
+#            or (msg.msgctxt is not None and msg.msgctxt.startswith(ignctxt))
             or msg.msgid.startswith(ignidsw)
         ):
             return [] if spanrep else 0
@@ -2027,7 +2027,7 @@
 
     missing_plnums = list(orig_plnums.difference(trans_plnums))
     extra_plnums = list(trans_plnums.difference(orig_plnums))
-    if missing_plnums:
+    if missing_plnums and False:
         tags = "".join(["<placeholder-%s/>" % x for x in missing_plnums])
         errmsg = _("@info",
                    "Missing placeholder tags in translation: %(taglist)s.",
diff -u -r -N pology-0.12.ori/pology/remove_ru.py pology-0.12/pology/remove_ru.py
--- pology-0.12.ori/pology/remove_ru.py	1970-01-01 03:00:00.000000000 +0300
+++ pology-0.12/pology/remove_ru.py	2016-11-24 15:35:21.929011077 +0300
@@ -0,0 +1,267 @@
+# -*- coding: utf-8 -*-
+
+"""
+Remove russian specific substrings from text.
+
+@author: Alexander Lakhin <exclusion@gmail.com>
+@license: GPLv3
+"""
+
+import re
+
+_g_re = re.compile(ur"([0-9]{4})\sг\.", re.U)
+_num_re = re.compile(ur"([0-9i]+)-(ое|ую|ый|ым)", re.U)
+_td_re = re.compile(ur"\bт\. д\.", re.U)
+_tp_re = re.compile(ur"\bт\. п\.", re.U)
+_te_re = re.compile(ur"\bт\. е\.", re.U)
+_nd_re = re.compile(ur"\bн/д\b", re.U)
+
+_email_re = re.compile(ur"\sэл\.( почт)", re.U)
+_plural_ending_re = re.compile(ur"(\w)(\(ы\)|\(ым\)|\(ов\))", re.U)
+
+def remove_abbr(msgstr, msg, cat):
+    """
+    [type F3C hook]
+    """
+    msgstr = _g_re.sub(ur"\1", msgstr)
+    msgstr = _num_re.sub(ur"\1", msgstr)
+    msgstr = _email_re.sub(ur"\1", msgstr)
+    msgstr = _td_re.sub(ur"так далее", msgstr)
+    msgstr = _tp_re.sub(ur"тому подобное", msgstr)
+    msgstr = _te_re.sub(ur"то есть", msgstr)
+    msgstr = _nd_re.sub(ur"нет данных", msgstr)
+    return msgstr
+
+
+_valid_re=re.compile(ur"\b(каким-нибудь|каком-нибудь|какого-нибудь|какой-нибудь|кому-нибудь|когда-нибудь|сколь-нибудь|16-ричном|16-ричный|Спецпоследова\-\sтельность|синхр\.|конт\.\sточк[аеия])(\b|$)", re.U + re.I)
+_valid_identifiers=re.compile(ur"("\
+u"число_вхожд|"\
+u"функция_состояния_движ|"\
+u"функции_состояния_движ|"\
+u"функция_завершения_движ|"\
+u"начальное_условие_движ|"\
+u"обратная_функция_движ|"\
+u"тип_данных_состояния_движ|"\
+u"размер_данных_состояния_движ|"\
+u"сигнатура_агр_функции|"\
+u"строк_в_результате|"\
+u"коммут_оператор|"\
+u"функция_лекс_типов|"\
+u"внутр_длина|"\
+u"разр_подключения|"\
+")", re.U)
+def validwords(msgstr, msg, cat):
+    """
+    [type F3C hook]
+    """
+    msgstr = _valid_identifiers.sub(ur"", msgstr)
+    msgstr = _valid_re.sub(ur"", msgstr)
+    return msgstr
+
+def remove_endings(msgstr, msg, cat):
+    msgstr = _plural_ending_re.sub(ur"\1", msgstr)
+    return msgstr
+
+_underscore_re = re.compile(ur"([а-я])_(?=[а-я])", re.U + re.I)
+_zwsp_re = re.compile(ur"&zwsp;", re.U)
+def remove_underscore(msgstr, msg, cat):
+    msgstr = _underscore_re.sub(ur"\1 ", msgstr)
+    msgstr = _zwsp_re.sub(ur"", msgstr)
+
+    return msgstr
+
+_people_re = re.compile(ur"("\
+u"Аарон Д\. Гиффорд|"\
+u"Абхиджит Менон-Сен|"\
+u"Адам Брайтвелл|"\
+u"Адам Х. Пендлтон|"\
+u"Адриан фон ден Дриш|"\
+u"Алекс Хансакер|"\
+u"Алексей Клюкин|"\
+u"Альваро Эррера|"\
+u"Амит Капила|"\
+u"Амит Ланготе|"\
+u"Амул Сул|"\
+u"Анастасия Лубенникова|"\
+u"Андреас Карлсон|"\
+u"Андреас Пфлюг|"\
+u"Андреас Сельтенрейх|"\
+u"Андреас Шербаум|"\
+u"Андрес Фройнд|"\
+u"Антонио Рико Риего|"\
+u"Антс Аасма|"\
+u"Арне Шеффер|"\
+u"Атри Шарма|"\
+u"Ашутош Бапат|"\
+u"Б\. Палмер|"\
+u"Бина Емерсон|"\
+u"Брайан Глэдмен|"\
+u"Брендан Юрд|"\
+u"Брюс Момджян|"\
+u"Вик Фиринг|"\
+u"Винаяк Покале|"\
+u"Габриэль Бартолини|"\
+u"Гаретта А\. Уоллмена|"\
+u"Георга Готлоба|"\
+u"Герман Мендез Браво|"\
+u"Гжегож Сампольски|"\
+u"Гийом Леларж|"\
+u"Гуржит Сингх|"\
+u"Д'Арси Дж\. М\. Каин|"\
+u"Д\. Уитли|"\
+u"Даниэль Густафсон|"\
+u"Дейв Пейдж|"\
+u"Джеспер Педерсен|"\
+u"Джефф Девис|"\
+u"Джефф Джейнс|"\
+u"Дживан Чок|"\
+u"Джим Нэсби|"\
+u"Джин Селков мл.|"\
+u"Джо Геллерштейну|"\
+u"Джо Конвей|"\
+u"Джолли Чен|"\
+u"Джузеппе Сакко|"\
+u"Диего А. Гил|"\
+u"Дилип Кумар|"\
+u"Димитри Фонтейн|"\
+u"Дональд Чамберлин|"\
+u"Дэвид Буррен|"\
+u"Дэвид Е\. Уилер|"\
+u"Дэвид Кристенсен|"\
+u"Дэвид Роули|"\
+u"Дэвид Стил|"\
+u"Дэйв Витек|"\
+u"Евгению Родичеву|"\
+u"Жан-Мишель Пуре|"\
+u"Жозефом Жюстом Скалигером|"\
+u"Жульен Рохо|"\
+u"Иэн Барвик|"\
+u"Йори Юото|"\
+u"КайГай Кохей|"\
+u"Карл Лехенбауэр|"\
+u"Карме Серда Торрес|"\
+u"Катрин Сейр|"\
+u"Кевин Гриттнер|"\
+u"Киотаро Хоригучи|"\
+u"Клеман Прево|"\
+u"Кондо Юта|"\
+u"Кори Хаинкер|"\
+u"Крейг Рингер|"\
+u"Кристоф Форнароли|"\
+u"Кристофер Кингс-Линн|"\
+u"Леонард Бенедетти|"\
+u"Линус Толке|"\
+u"Лукас Крефт|"\
+u"Магнус Хагандер|"\
+u"Майкл Дж\. Фромбергер|"\
+u"Майклом Стоунбрейкером|"\
+u"Мануэль Матар|"\
+u"Мариса Емерсон|"\
+u"Мариус Тиммер|"\
+u"Марк Йитман|"\
+u"Марк Кирквуд|"\
+u"Марко Ненчарини|"\
+u"Марко Тииккая|"\
+u"Маркус Винанд|"\
+u"Маркус Нуллмейер|"\
+u"Марселя Корнакера|"\
+u"Марти Раудсепп|"\
+u"Мартин Утеш|"\
+u"Мартина Потера|"\
+u"Масахико Савада|"\
+u"МауМау|"\
+u"Михаэль Мескес|"\
+u"Мицумаса Кондо|"\
+u"Мишель Пакье|"\
+u"Мишеля Пакье|"\
+u"Мохаммед Альхашаш|"\
+u"Мэтт Келли|"\
+u"Натан Боссарт|"\
+u"Нейл Конвей|"\
+u"Ник Клитон|"\
+u"Николай Шаплов|"\
+u"Норм Уолш|"\
+u"О'Рейли|"\
+u"Олег Бартунов|"\
+u"Оскари Сааренмаа|"\
+u"Паван Деоласи|"\
+u"Павел Райскуп|"\
+u"Павел Стехуле|"\
+u"Палле Гиргенсона|"\
+u"Педро Химено Фортеа|"\
+u"Петр Желинек|"\
+u"Петри Жусте|"\
+u"Петру-Флорин Миханча|"\
+u"Питер Геохеган|"\
+u"Питер Маунт|"\
+u"Питер Эйзентраут|"\
+u"Плато Малугин|"\
+u"Пол Рамси|"\
+u"Пол-Хеннинг Камп|"\
+u"Пуассона|"\
+u"Раджив Растоги|"\
+u"Рафаэль Энричи|"\
+u"Рахила Сьед|"\
+u"Роберт Хаас|"\
+u"Ронан Данклау|"\
+u"Рушаб Латиа|"\
+u"Савада Масахико|"\
+u"Саймон Риггс|"\
+u"Саймон Тэтем|"\
+u"Саймона Риггса|"\
+u"Сатоши Нагаясу|"\
+u"Стас Кельвич|"\
+u"Стефана Симковича|"\
+u"Стефаном Симковичем|"\
+u"Стивен Фрост|"\
+u"Такахиро Итагаки|"\
+u"Такаюки Цунакава|"\
+u"Тацуо Исии|"\
+u"Тимом Хадсоном|"\
+u"Том Лейн|"\
+u"Томас Вондра|"\
+u"Томас Мунро|"\
+u"Фабрицио де Ройес Мелло|"\
+u"Фабьен Коэльо|"\
+u"Франк Лупо|"\
+u"Фудзии Масао|"\
+u"Фуруя Осаму|"\
+u"Фёдор Сигаев|"\
+u"Фёдором Сигаевым|"\
+u"Харибабу Комми|"\
+u"Хейкки Линнакангас|"\
+u"Хервин Вестстрате|"\
+u"Хироси Сайто|"\
+u"Цзин Ван|"\
+u"Чен Хуацзюнь|"\
+u"Шигеру Ханада|"\
+u"Шимон Гуз|"\
+u"Эдгар Франк Кодд|"\
+u"Элвис Пранскевичус|"\
+u"Эмре Хасегели|"\
+u"Эндри Ю|"\
+u"Эндрю Гирт|"\
+u"Эндрю Дунстан|"\
+u"Эрвин Брандштеттер|"\
+u"Эриком Янгом|"\
+u"Эцуро Фудзита|"\
+u"Ян Урбански|"\
+u"Янко Рихтер|"\
+u"Канг Хе Ван|"\
+u"Рудольфс Мазурс|"\
+u"Фред ван Беммель|"\
+u"Славомир Судник|"\
+u"Маркос Альвес Т. де Азеведо|"\
+u"Хельдер М. Виейра|"\
+u"Божан Скальяч|"\
+u"Чаой, Куо|"\
+
+#u"|"\
+")", re.U)
+
+def remove_people(msgstr, msg, cat):
+    """
+    [type F3C hook]
+    """
+    msgstr = _people_re.sub("", msgstr)
+    return msgstr
diff -u -r -N pology-0.12.ori/sieve/check_docbook4.py pology-0.12/sieve/check_docbook4.py
--- pology-0.12.ori/sieve/check_docbook4.py	2016-05-26 07:35:49.324834654 +0300
+++ pology-0.12/sieve/check_docbook4.py	2016-10-07 10:34:37.037375529 +0300
@@ -41,7 +41,44 @@
         self.caller_sync = False # no need to sync catalogs to the caller
         self.caller_monitored = False # no need for monitored messages
 
-        self.check = check_docbook4_msg(strict=False, entities=None)
+        self.check = check_docbook4_msg(strict=True, entities={
+            "mdash": "—",
+            "copy": "©",
+            "nbsp": u"\xA0",
+            "zwsp": u"\u200B",
+            "pi": u"\u03A0",
+            "aacute": u"\u00C1",
+            "ntilde": u"\u00D1",
+            "oacute": u"\u00D3",
+            "oslash": u"\u00F8",
+            "ocirc":  u"\u00F4",
+            "Agrave": u"\u00C0",
+            "Aacute": u"\u00C1",
+            "Acirc":  u"\u00C2",
+            "Atilde": u"\u00C3",
+            "Auml":   u"\u00C4",
+            "Aring":  u"\u00C5",
+            "AElig":  u"\u00C6",
+            "times": u"\u00D7",
+            "isin": u"\u2208",
+            "sube": u"\u2286",
+            "sigma": u"\u03A3",
+            "divide": u"\u00F7",
+            "forall": u"\u2200",
+            "exist": u"\u2203",
+            "and": u"\u2227",
+            "cap": u"\u2229",
+            "cup": u"\u222A",
+            "mid": u"\u2223",
+            "minus": u"\u2212",
+            "setmn": u"\u2216",
+            "prod": u"\u220F",
+            "tdot": u"\u20DB",
+            "version": "1",
+            "productname": "P",
+            "features-unsupported": "-",
+            "laquo": "«",
+            "raquo": "»"})
 
         self.nproblems = 0
 
diff -u -r -N pology-0.12.ori/spec/docbook4.l1 pology-0.12/spec/docbook4.l1
--- pology-0.12.ori/spec/docbook4.l1	2016-05-26 07:35:50.304801746 +0300
+++ pology-0.12/spec/docbook4.l1	2016-05-26 07:35:45.344968307 +0300
@@ -523,4 +523,64 @@
 placeholder-18;
 placeholder-19;
 placeholder-20;
+placeholder-21;
+placeholder-22;
+placeholder-23;
+placeholder-24;
+placeholder-25;
+placeholder-26;
+placeholder-27;
+placeholder-28;
+placeholder-29;
+placeholder-30;
+placeholder-31;
+placeholder-32;
+placeholder-33;
+placeholder-34;
+placeholder-35;
+placeholder-36;
+placeholder-37;
+placeholder-38;
+placeholder-39;
+placeholder-40;
+placeholder-41;
+placeholder-42;
+placeholder-43;
+placeholder-44;
+placeholder-45;
+placeholder-46;
+placeholder-47;
+placeholder-48;
+placeholder-49;
+placeholder-50;
+placeholder-51;
+placeholder-52;
+placeholder-53;
+placeholder-54;
+placeholder-55;
+placeholder-56;
+placeholder-57;
+placeholder-58;
+placeholder-59;
+placeholder-60;
+placeholder-61;
+placeholder-62;
+placeholder-63;
+placeholder-64;
+placeholder-65;
+placeholder-66;
+placeholder-67;
+placeholder-68;
+placeholder-69;
+placeholder-70;
+placeholder-71;
+placeholder-72;
+placeholder-73;
+placeholder-74;
+placeholder-75;
+placeholder-76;
+placeholder-77;
+placeholder-78;
+placeholder-79;
+placeholder-80;
 # hopefully enough...
